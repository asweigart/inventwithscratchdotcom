<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><title>Scratch Programming Playground</title></head><body>



<div id="calibre_link-12" class="calibre">
<h2 class="h1" id="calibre_link-1"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-437" class="calibre1"></span><strong class="calibre2">9</strong><br class="calibre9" /><strong class="calibre2">MAKING AN ADVANCED PLATFORMER</strong></h2>
<p class="noindent">The first <em class="calibre6">Super Mario Bros.</em> game was introduced in 1985 and became Nintendo’s greatest video game franchise and one of the most influential games of all time. Because the game involves making a character run, jump, and hop from platform to platform, this game style is called a <em class="calibre6">platformer</em> (or <em class="calibre6">platform</em> game).</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-383"></span>In the Scratch game in this chapter, the cat will play the part of Mario or Luigi. The player can make the cat jump around a single level to collect apples while avoiding the crabs who will steal them. The game is timed: the player has just 45 seconds to collect as many apples as possible while trying to avoid the crabs!</p>
<p class="indent">Before you start coding, look at the final program at <em class="calibre6"><a href="https://www.nostarch.com/scratchplayground/" class="calibre4">https://www.nostarch.com/scratchplayground/</a></em>.</p>
<div class="image"><img src="images/00068.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Get ready to program a more complicated game than those in previous chapters!</p>
<h3 class="h2" id="calibre_link-227"><strong class="calibre2">SKETCH OUT THE DESIGN</strong></h3>
<p class="noindent">Let’s sketch out on paper what the game should look like. The player controls a cat that jumps around while apples appear randomly. The crabs walk and jump around the platforms randomly, too.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-440"></span><img src="images/00107.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Here’s what we’ll do in each part:</p>
<p class="ordert"><span class="blue1">A.</span> Create gravity, falling, and landing</p>
<p class="order"><span class="blue1">B.</span> Handle steep slopes and walls</p>
<p class="order"><span class="blue1">C.</span> Make the cat jump high and low</p>
<p class="order"><span class="blue1">D.</span> Add ceiling detection</p>
<p class="order"><span class="blue1">E.</span> Use a hitbox for the cat sprite</p>
<p class="order"><span class="blue1">F.</span> Add a better walking animation</p>
<p class="order"><span class="blue1">G.</span> Create the level</p>
<p class="order"><span class="blue1">H.</span> Add crab enemies and apples</p>
<p class="indentt">This platform game is the most ambitious one in the book, but anyone can code it if they follow the steps in this chapter. Let’s code each part one step at a time.</p>
<p class="indent">If you want to save time, you can start from the skeleton project file, named <em class="calibre6">platformer-skeleton.sb2</em>, in the resources ZIP file. Go to <em class="calibre6"><a href="https://www.nostarch.com/scratchplayground/" class="calibre4">https://www.nostarch.com/scratchplayground/</a></em> <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-390"></span>and download the ZIP file to your computer by right-clicking the link and selecting <strong class="calibre5">Save link as</strong> or <strong class="calibre5">Save target as</strong>. Extract all the files from the ZIP file. The skeleton project file has all the sprites already loaded, so you’ll only need to drag the code blocks into each sprite.</p>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-228" class="calibre4"></a><p class="h3a"><img src="images/00033.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">CREATE GRAVITY, FALLING, AND LANDING</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">In the first part, we’ll add gravity, falling, and landing code, similar to the <em class="calibre6">Basketball</em> game in <a href="#calibre_link-4" class="calibre4">Chapter 4</a>. The important difference is that in the platform game, the cat lands when it touches a ground sprite rather than the bottom of the Stage. Coding is a bit trickier, because we want the ground to have hills and eventually platforms!</p>
<div class="image"><img src="images/00104.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">To start, click the text field at the top left of the Scratch editor and rename the project from <em class="calibre6">Untitled</em> to <em class="calibre6">Platformer</em>.</p>
<h4 class="h3" id="calibre_link-229"><strong class="calibre2">1. Create the Ground Sprite</strong></h4>
<p class="noindent">Let’s use a simple shape for the ground in the first few scripts, just to explore how the code will work.</p>
<p class="indent">Click the <strong class="calibre5">Paint new sprite</strong> button next to New sprite to create a temporary ground sprite while you learn about platforming code. In the Paint Editor, use the Brush or Line tool to draw a shape for the ground. You can make the lines thicker by using the Line width slider in the bottom-left corner of the Paint Editor. Be sure to draw a gentle slope on the right and a steep slope on the left.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-354"></span><img src="images/00308.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Open the sprite’s Info Area and rename the sprite <span class="literal1">Ground</span>. Also, rename the <span class="literal1">Sprite1</span> sprite <span class="literal1">Cat</span>.</p>
<h4 class="h3" id="calibre_link-230"><strong class="calibre2">2. Add the Gravity and Landing Code</strong></h4>
<p class="noindent">Now that we have a sprite for the ground, we need the cat to fall and land on it.</p>
<p class="indent">Select the <span class="literal1">Cat</span> sprite. In the orange <em class="calibre6">Data</em> category, click the <strong class="calibre5">Make a Variable</strong> button and create a For this sprite only variable named <span class="literal1">y velocity</span>. Then add the following code to the <span class="literal1">Cat</span> sprite:</p>
<div class="image"><img src="images/00232.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-596"></span>This code performs two actions in its <span class="literal1"><strong class="calibre5">forever</strong></span> loop: it makes the <span class="literal1">Cat</span> sprite fall until it touches the <span class="literal1">Ground</span> sprite <span class="ent1">➊</span> and then lifts up the <span class="literal1">Cat</span> sprite if it is deep in the ground <span class="ent1">➋</span>.</p>
<p class="indent">With these two code sections, the cat will fall down, hit the ground, and then rise if necessary, eventually settling on top of the <span class="literal1">Ground</span> sprite.</p>
<div class="image"><img src="images/00273.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The falling code at <span class="ent1">➊</span> subtracts <span class="literal1">2</span> from the <span class="literal1">y velocity</span> variable and then moves the <span class="literal1">Cat</span> sprite’s y position by <span class="literal1">y velocity</span>, making the cat fall faster and faster. If you programmed the <em class="calibre6">Basketball</em> game in <a href="#calibre_link-4" class="calibre4">Chapter 4</a>, the falling code should be familiar.</p>
<p class="indent">But the <span class="literal1"><strong class="calibre5">repeat until</strong></span> block <span class="ent1">➋</span> will loop until the <span class="literal1">Cat</span> sprite is no longer touching the <span class="literal1">Ground</span> sprite. (If the cat is still in the air and falling, it will not be touching the ground, so the code in the loop is skipped.) Inside this loop, the <span class="literal1">y velocity</span> is set to <span class="literal1">0</span> so that the <span class="literal1">Cat</span> stops falling any farther. The <span class="literal1"><strong class="calibre5">change y by 1</strong></span> block will lift up the <span class="literal1">Cat</span> sprite a little. The <span class="literal1"><strong class="calibre5">repeat until not touching Ground</strong></span> block continues lifting the sprite until it is no longer sunk into the <span class="literal1">Ground</span> sprite. This is how the cat stays on top of the ground, no matter what the shape of the <span class="literal1">Ground</span> sprite is.</p>
<div class="image"><img src="images/00311.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-597"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-418" class="calibre1"></span><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Drag the cat up with the mouse and let go. Make sure the cat falls and sinks into the ground a bit and then slowly lifts out of it. Then click the red stop sign and save your program.</p>
</div>
<h4 class="h3" id="calibre_link-231"><strong class="calibre2">3. Make the Cat Walk and Wrap Around the Stage</strong></h4>
<p class="noindent">The cat also needs to walk left and right using the WASD keys, so add the following script to the <span class="literal1">Cat</span> sprite:</p>
<div class="image"><img src="images/00003.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code is very straightforward: pressing A points the cat to the left (<span class="literal1">-90</span>) and moves the x position by <span class="literal1">-6</span> (to the left); pressing D makes the cat point to the right and moves the x position by <span class="literal1">6</span> (to the right).</p>
<p class="indent">Next, add the following script to make the <span class="literal1">Cat</span> sprite wrap around to the top if it falls to the bottom of the Stage.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-432"></span><img src="images/00047.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code is very similar to the wrap-around code we wrote in the <em class="calibre6">Asteroid Breaker</em> game in <a href="#calibre_link-10" class="calibre4">Chapter 8</a>. We’ll write wrap-around code for moving left and right later.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-598"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Press the A and D keys to make the cat walk up and down the slopes. If the <span class="literal1">Cat</span> sprite walks off the edge of the <span class="literal1">Ground</span> sprite and falls to the bottom of the Stage, the <span class="literal1">Cat</span> sprite should reappear at the top. Then click the red stop sign and save your program.</p>
<p class="indent">This platformer has many scripts, so you might get lost if you get confused. If your program isn’t working and you can’t figure out why, load the project file <em class="calibre6">platformer1.sb2</em> from the resources ZIP file. Click <strong class="calibre5">File <img src="images/00013.jpeg" alt="image" class="calibre3" /> Upload from your computer</strong> in the Scratch editor to load the file, and continue reading from this point.</p>
</div>
<h4 class="h3" id="calibre_link-232"><strong class="calibre2">4. Remove the Ground Lift Delay</strong></h4>
<p class="noindent">The big problem with the code right now is that the <span class="literal1">Cat</span> sprite is lifted from inside the ground to on top of it very slowly. This code needs to run so fast that the player only sees the sprite on top of the ground, not in it.</p>
<p class="indent">The dark purple custom blocks can help us do this. Go to the <em class="calibre6">More Blocks</em> category, and click the <strong class="calibre5">Make a Block</strong> button. <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-355"></span>Name the block <span class="literal1"><strong class="calibre5">handle ground</strong></span>, and then click the gray <strong class="calibre5">Options</strong> triangle. Check the checkbox next to <strong class="calibre5">Run without screen refresh</strong>.</p>
<div class="image"><img src="images/00045.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1"><strong class="calibre5">define handle ground</strong></span> block should now appear in the Scripts Area. Change the code for the <span class="literal1">Cat</span> sprite to make it use the <span class="literal1"><strong class="calibre5">handle ground</strong></span> block. The <span class="literal1"><strong class="calibre5">handle ground</strong></span> block goes where the <span class="literal1"><strong class="calibre5">repeat until not touching Ground</strong></span> blocks were, and that loop is moved under <span class="literal1"><strong class="calibre5">define handle ground</strong></span>.</p>
<div class="image"><img src="images/00004.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code works exactly as it did before, but now the <span class="literal1"><strong class="calibre5">handle ground</strong></span> block has Run without screen refresh checked, so the loop code runs in Turbo Mode. Lifting the cat now happens instantly, so it looks like the cat never sinks into the ground.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-599"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-414" class="calibre1"></span><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make the cat walk around or use the mouse to drop the cat from the top of the Stage as before. Now the <span class="literal1">Cat</span> sprite should never sink into the ground. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer2.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-233" class="calibre4"></a><p class="h3a"><img src="images/00161.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">HANDLE STEEP SLOPES AND WALLS</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The <span class="literal1">Ground</span> sprite has hills and slopes that the cat can walk on, and you can change the <span class="literal1">Ground</span> sprite to pretty much any shape in the Paint Editor. This is a big improvement for the player compared to just walking on the bottom of the Stage, as in the <em class="calibre6">Basketball</em> game. But now the problem is that the <span class="literal1">Cat</span> sprite can walk up the steep slope on the left as easily as it can walk up the gentle slope on the right. This isn’t very realistic. We want the steep slope to block the cat. To do this, we’ll make a small change to the walking code blocks.</p>
<p class="indent">At this point, the sprites are becoming overcrowded with lots of different scripts. So, right-click on the Scripts Area, and select <strong class="calibre5">clean up</strong> to reorganize the scripts into neat rows.</p>
<h4 class="h3" id="calibre_link-234"><strong class="calibre2">5. Add the Steep Slope Code</strong></h4>
<p class="noindent">Now we need to edit the <span class="literal1">Cat</span> sprite’s walking code and add some new code, too. Instead of simply changing the x position by a particular value, we’ll use a new custom block. Let’s call it <span class="literal1"><strong class="calibre5">walk</strong></span> and give this new custom block an <em class="calibre6">input</em> called <span class="literal1"><strong class="calibre5">steps</strong></span>. An input is somewhat like a variable, but you can only use it in the custom block’s <span class="literal1"><strong class="calibre5">define</strong></span> block.</p>
<div class="image"><img src="images/00119.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-600"></span>Click the <strong class="calibre5">Make a Block</strong> button in the dark purple <em class="calibre6">More Blocks</em> category to make the <span class="literal1"><strong class="calibre5">walk</strong></span> block. Be sure to click the <strong class="calibre5">Add a number input button</strong> to make the <span class="literal1"><strong class="calibre5">steps</strong></span> input. When we want to call the new <span class="literal1"><strong class="calibre5">walk</strong></span> block, we’ll have to define that input with a number of <span class="literal1"><strong class="calibre5">steps</strong></span> to take. Make sure you check the <strong class="calibre5">Run without screen refresh</strong> checkbox!</p>
<div class="image"><img src="images/00073.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code also requires you to make a variable for the <span class="literal1">Cat</span> sprite named <span class="literal1">ground lift</span> (which should be For this sprite only). We’ll use this new variable to determine whether a slope is too steep for the cat to walk up. This code is a little complicated, but we’ll walk through it step-by-step. For now, make the <span class="literal1">Cat</span> sprite’s code look like the following:</p>
<div class="image"><img src="images/00199.jpeg" alt="image" class="calibre3" /></div>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-271"></span><img src="images/00245.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">We want the cat to walk six units, as we did earlier, so we use <span class="literal1">-6</span> and <span class="literal1">6</span> in the walking script when we call <span class="literal1"><strong class="calibre5">walk</strong></span>. In the <span class="literal1"><strong class="calibre5">define walk</strong></span> block, the <span class="literal1"><strong class="calibre5">steps</strong></span> input block is used in the <span class="literal1"><strong class="calibre5">change x by</strong></span> blocks. This makes the code more compact, because we can use the same script for moving the cat to the left (with the <span class="literal1"><strong class="calibre5">walk -6</strong></span> block) or to the right (with the <span class="literal1"><strong class="calibre5">walk 6</strong></span> block).</p>
<p class="indent">The code in the <span class="literal1"><strong class="calibre5">repeat until</strong></span> loop uses the <span class="literal1">ground lift</span> variable to determine if the slope is a walkable slope or a wall that should block the <span class="literal1">Cat</span> sprite’s progress. The <span class="literal1">ground lift</span> variable starts at <span class="literal1">0</span> and changes by <span class="literal1">1</span> each time the <span class="literal1"><strong class="calibre5">repeat until</strong></span> loop lifts the <span class="literal1">Cat</span> sprite’s y position by <span class="literal1">1</span>. This loop continues looping until the sprite is no longer touching the ground or <span class="literal1">ground lift</span> is equal to <span class="literal1">8</span>.</p>
<p class="indent">If <span class="literal1">ground lift</span> is less than <span class="literal1">8</span>, then the slope isn’t that steep. The sprite can walk up the slope, so the <span class="literal1"><strong class="calibre5">define walk</strong></span> script doesn’t have to do anything else.</p>
<p class="indent">But if <span class="literal1"><strong class="calibre5">ground lift = 8</strong></span>, the <span class="literal1"><strong class="calibre5">repeat until</strong></span> loop stops looping. This code means “the sprite has been lifted up by <span class="literal1">8</span> but it’s still touching the <span class="literal1">Ground</span> sprite, so this must be a steep slope.” <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-601"></span>In that case, we need to undo the lift <em class="calibre6">and</em> the walking movement. The <span class="literal1"><strong class="calibre5">change y by -8</strong></span> and <span class="literal1"><strong class="calibre5">change x by -1 * steps</strong></span> blocks undo the <span class="literal1">Cat</span> sprite’s movement. Multiplying the <strong class="calibre5">walk</strong> input by <span class="literal1">-1</span> gives the opposite number of the input and variable.</p>
<div class="image"><img src="images/00095.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code is exactly like the code in the <em class="calibre6">Maze Runner</em> game in <a href="#calibre_link-7" class="calibre4">Chapter 3</a> that blocks the player from walking through walls.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-602"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Use the A and D keys to make the cat walk around. The cat should be able to walk up the gentle slope on the right, but the steep slope on the left should stop the cat. Click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer3.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-417"></span><a id="calibre_link-235" class="calibre4"></a><p class="h3a"><img src="images/00178.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE CAT JUMP HIGH AND LOW</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">With the walking code done, let’s add jumping. In the <em class="calibre6">Basketball</em> game, we changed the <span class="literal1">falling</span> variable to a positive number. This meant that the player jumped the height of that variable’s value each time. But in many platform games, the player can do a short jump by pressing the jump button quickly or jump higher by holding down the jump button. We want to use high and low jumping in this platform game, so we’ll have to come up with something a little more advanced than the <em class="calibre6">Basketball</em> game’s jumping code.</p>
<div class="image"><img src="images/00324.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-236"><strong class="calibre2">6. Add the Jumping Code</strong></h4>
<p class="noindent">Let’s first create a For this sprite only variable named <span class="literal1">in air</span>. This variable will be set to <span class="literal1">0</span> whenever the <span class="literal1">Cat</span> sprite is on the ground. But <span class="literal1">in air</span> will start increasing when the <span class="literal1">Cat</span> sprite is jumping or falling. The larger the <span class="literal1">in air</span> value is, the longer the cat will have been off the ground and in the air.</p>
<p class="indent">Add this script to the <span class="literal1">Cat</span> sprite:</p>
<div class="image"><img src="images/00012.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-277"></span>The <span class="literal1"><strong class="calibre5">forever</strong></span> loop keeps checking whether the W key is being held down. If it is, this will give the <span class="literal1">Cat</span> sprite a velocity of <span class="literal1">14</span>&mdash;that is, the <span class="literal1">Cat</span> sprite will be moving up. But note that there are two conditions for the cat to continue moving up&mdash;the player must hold down W <em class="calibre6">and</em> the <span class="literal1">in air</span> variable must be less than <span class="literal1">8</span>.</p>
<p class="indent">Let’s edit two of the existing <span class="literal1">Cat</span> sprite scripts to add the <span class="literal1">in air</span> variable that limits how high the cat can jump.</p>
<div class="image"><img src="images/00123.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">When the player first holds down the W key to make the cat jump, the <span class="literal1">y velocity</span> variable is set to <span class="literal1">14</span>. This makes the code in the <span class="literal1"><strong class="calibre5">forever</strong></span> loop in script <span class="ent1">➊</span> change the <span class="literal1">Cat</span> sprite’s y position by the positive <span class="literal1">y velocity</span>, moving it upward. At the start of the jump, the <span class="literal1">in air</span> variable is increasing but is still less than <span class="literal1">8</span>. So if the player continues to hold down the W key, <span class="literal1">y velocity</span> keeps getting set to <span class="literal1">14</span> instead of decreasing because of the <span class="literal1"><strong class="calibre5">change y velocity by -2</strong></span> block. This causes the jump to go upward longer than if the player had held down the W key for just one iteration through the loop. But eventually <span class="literal1">in air</span> will become equal to or greater than <span class="literal1">8</span>, so it won’t matter if the W key is pressed. Remember that both conditions&mdash;<span class="literal1"><strong class="calibre5">key w pressed</strong></span> <em class="calibre6">and</em> <span class="literal1"><strong class="calibre5">in air &lt; 8</strong></span>&mdash;must be true for the code inside the <strong class="calibre5">if then</strong> block to run.</p>
<p class="indent">At this point, the <span class="literal1">y velocity</span> variable will decrease as expected, and the <span class="literal1">Cat</span> sprite will eventually fall. In script <span class="ent1">➋</span>, when the cat is on the ground, the <span class="literal1">in air</span> variable is reset to <span class="literal1">0</span>.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-603"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-343" class="calibre1"></span><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Press the W key to jump. Quickly pressing the key should cause a small jump. Holding down the W key should cause a higher jump. Make sure the cat can jump only while it’s on the ground and can’t do double jumps. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer4.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-237" class="calibre4"></a><p class="h3a"><img src="images/00110.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">ADD CEILING DETECTION</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The cat can walk on the ground, and now walls will stop the cat from moving through them. But if the player bumps the <span class="literal1">Cat</span> sprite’s head against a platform from below, the <span class="literal1">Cat</span> sprite will rise above it! To solve this problem, we need to make some adjustments to the lifting code to add <em class="calibre6">ceiling detection</em>.</p>
<h4 class="h3" id="calibre_link-238"><strong class="calibre2">7. Add a Low Platform to the Ground Sprite</strong></h4>
<p class="noindent">Add a short, low platform to the <span class="literal1">Ground</span> sprite’s costume, as shown in the following figure. Make sure it is high enough for the cat to walk under but low enough that the cat can jump up and touch it.</p>
<div class="image"><img src="images/00014.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-327"></span>This platform should be low enough that the cat could hit its head on it. If it can’t, then redraw the platform a little bit lower.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-604"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make the cat jump under the low platform. Notice that when the <span class="literal1">Cat</span> sprite touches the platform, it ends up above the platform. This is the bug we need to fix. Click the red stop sign.</p>
</div>
<h4 class="h3" id="calibre_link-239"><strong class="calibre2">8. Add the Ceiling Detection Code</strong></h4>
<p class="noindent">The problem with the code is in the custom <span class="literal1"><strong class="calibre5">handle ground</strong></span> block. This code always assumes the <span class="literal1">Cat</span> sprite is falling from above, and if the <span class="literal1">Cat</span> sprite is touching the <span class="literal1">Ground</span> sprite, it should be lifted above it. The <span class="literal1">Ground</span> sprite represents any solid part that the cat can’t move through, including ceilings. We need to change the code so that if the <span class="literal1">Cat</span> sprite is jumping up when it touches the <span class="literal1">Ground</span> sprite, the cat <em class="calibre6">stops</em> rising because it bumps its head. We know the <span class="literal1">Cat</span> sprite is moving upward when its <span class="literal1">y velocity</span> is greater than <span class="literal1">0</span>. So let’s edit the custom <span class="literal1"><strong class="calibre5">handle ground</strong></span> block to add a new Boolean input named <span class="literal1"><strong class="calibre5">moving up</strong></span>.</p>
<div class="image"><img src="images/00015.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">A <em class="calibre6">Boolean</em> is a true or false value. We use a Boolean input because we need to know if <span class="literal1">y velocity</span> is greater than <span class="literal1">0</span> when the <span class="literal1"><strong class="calibre5">handle ground</strong></span> block is first called. This true or <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-605"></span>false value is stored in the <span class="literal1"><strong class="calibre5">moving up</strong></span> input just like a variable would store it. If we put <span class="literal1"><strong class="calibre5">y velocity &gt; 0</strong></span> in the <span class="literal1"><strong class="calibre5">if then</strong></span> block instead of <span class="literal1"><strong class="calibre5">moving up</strong></span>, then the cat would end up rising above the ceiling instead of bumping against it.</p>
<p class="indent">Right-click the <span class="literal1"><strong class="calibre5">define handle ground</strong></span> block and select <strong class="calibre5">edit</strong> from the menu.</p>
<div class="image"><img src="images/00131.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Click the gray triangle next to <strong class="calibre5">Options</strong> to expand the window, and click the button next to <strong class="calibre5">Add boolean input.</strong> Name this new input field <span class="literal1"><strong class="calibre5">moving up</strong></span> and then click <strong class="calibre5">OK</strong>.</p>
<div class="image"><img src="images/00017.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This will add a new <span class="literal1"><strong class="calibre5">moving up</strong></span> block that you can drag off the <span class="literal1"><strong class="calibre5">define handle ground</strong></span> block just like you do with blocks from the Blocks Area. This <span class="literal1"><strong class="calibre5">moving up</strong></span> block will be used in a new <span class="literal1"><strong class="calibre5">if then else</strong></span> block. Modify the <span class="literal1"><strong class="calibre5">define handle ground</strong></span> block’s code to match this.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-606"></span><img src="images/00210.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">If the cat is moving up, the <span class="literal1"><strong class="calibre5">change y by -1</strong></span> block makes the cat look like it’s bumping its head. Otherwise, the script behaves as it did previously, raising the cat so it sits above the ground.</p>
<p class="indent">Next, we have to edit the <span class="literal1"><strong class="calibre5">handle ground</strong></span> call in this script. We’ll add a Boolean condition to determine whether the sprite is moving up, which is <span class="literal1"><strong class="calibre5">y velocity &gt; 0</strong></span>.</p>
<div class="image"><img src="images/00019.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1"><strong class="calibre5">handle ground y velocity &gt; 0</strong></span> block sets the <span class="literal1"><strong class="calibre5">moving up</strong></span> input to <span class="literal1">true</span> if the <span class="literal1">y velocity</span> is greater than <span class="literal1">0</span> (that is, if the sprite is jumping and moving up). If <span class="literal1">y velocity</span> is not greater than <span class="literal1">0</span>, then the sprite is either falling down or still, causing the <span class="literal1"><strong class="calibre5">moving up</strong></span> input to be set to <span class="literal1">false</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-413"></span>This is how the <span class="literal1"><strong class="calibre5">define handle ground</strong></span> block decides whether it should run <span class="literal1"><strong class="calibre5">change y by -1</strong></span> (so the <span class="literal1">Cat</span> sprite can’t go up through the ceiling) or run <span class="literal1"><strong class="calibre5">change y by 1</strong></span> (so the <span class="literal1">Cat</span> sprite is lifted up out of the ground). Either way, if the <span class="literal1">Cat</span> sprite is touching the <span class="literal1">Ground</span> sprite (which it is if the code inside the <span class="literal1"><strong class="calibre5">repeat until not touching Ground</strong></span> block is running), the <span class="literal1">y velocity</span> variable should be set to <span class="literal1">0</span> so that the <span class="literal1">Cat</span> sprite stops falling or jumping.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-607"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make the cat walk under the low platform and jump. Make sure the cat bumps into the platform but does not go above it. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer5.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-240" class="calibre4"></a><p class="h3a"><img src="images/00172.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">USE A HITBOX FOR THE CAT SPRITE</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">There’s another problem with the game. Because the code relies on the <span class="literal1">Cat</span> sprite touching the <span class="literal1">Ground</span> sprite, any part of the <span class="literal1">Cat</span> sprite can be “standing” on the ground, even its whiskers or cheek! In this figure, the cat isn’t falling because its cheek has “landed” on the platform, which isn’t very realistic.</p>
<div class="image"><img src="images/00179.jpeg" alt="image" class="calibre3" /></div>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-278"></span><img src="images/00335.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Fortunately, we can fix this problem by using the hitbox concept we used in the <em class="calibre6">Basketball</em> game.</p>
<h4 class="h3" id="calibre_link-241"><strong class="calibre2">9. Add a Hitbox Costume to the Cat Sprite</strong></h4>
<p class="noindent">Click the <span class="literal1">Cat</span> sprite’s <strong class="calibre5">Costumes</strong> tab. Then click the <strong class="calibre5">Paint new costume</strong> button and draw a black rectangle that covers most (but not all) of the area of the other two costumes. The following figure shows a slightly transparent first costume in the same image so you can see how much area the black rectangle covers.</p>
<div class="image"><img src="images/00023.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Name this costume <span class="literal1">hitbox</span>. Whenever the <em class="calibre6">Platformer</em> program’s code checks whether the <span class="literal1">Cat</span> sprite is touching the <span class="literal1">Ground</span> sprite, we’ll switch the costume to the black rectangle <span class="literal1">hitbox</span> costume before the check and then back to the regular costume after the check. By doing so, the <span class="literal1">hitbox</span> will determine whether the cat is touching the ground.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-608"></span>These costume switches will be handled with the dark purple custom blocks that have the option Run without screen refresh checked, so the <span class="literal1">hitbox</span> costume will never be drawn on the screen.</p>
<h4 class="h3" id="calibre_link-242"><strong class="calibre2">10. Add the Hitbox Code</strong></h4>
<p class="noindent">We’ll add <span class="literal1"><strong class="calibre5">switch costume to</strong></span> blocks to the start and end of both dark purple custom blocks. Modify the <span class="literal1">Cat</span> sprite’s code to look like this:</p>
<div class="image"><img src="images/00038.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-287"></span>These blocks from the purple <em class="calibre6">Looks</em> category will change the costume to the <span class="literal1">hitbox</span>. Because the <span class="literal1">hitbox</span> is a simple rectangle that doesn’t have protruding parts that could “catch” on platforms, like the cat’s head and whiskers could, the game will behave in a more natural way.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-609"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make the cat jump around, and make sure the cat can’t hang off the platform by its cheek or tail. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer6.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-243" class="calibre4"></a><p class="h3a"><img src="images/00174.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">ADD A BETTER WALKING ANIMATION</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The <span class="literal1">Cat</span> sprite that a Scratch project starts with has two costumes named <span class="literal1">costume1</span> and <span class="literal1">costume2</span>.</p>
<div class="image"><img src="images/00025.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-370"></span>You can make a simple walking animation by switching back and forth between these two costumes. However, a Scratcher named griffpatch has created a series of walking costumes for the Scratch cat.</p>
<div class="image"><img src="images/00027.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">griffpatch has also made costumes for standing, jumping, and falling.</p>
<div class="image"><img src="images/00028.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Using these costumes will make the <em class="calibre6">Platformer</em> game look more polished than using the two simple costumes that the <span class="literal1">Cat</span> sprite comes with. We just need to add some animation code that switches between these costumes at the right time. griffpatch has created several cool Scratch programs using these costumes: <em class="calibre6"><a href="https://scratch.mit.edu/users/griffpatch/" class="calibre4">https://scratch.mit.edu/users/griffpatch/</a></em>.</p>
<h4 class="h3" id="calibre_link-244"><strong class="calibre2">11. Add the New Costumes to the Cat Sprite</strong></h4>
<p class="noindent">To add the new costumes, you must upload the costume files into your Scratch project. You’ll find the eight walking images and the standing, jumping, and falling images in the resources ZIP file. The filenames for these images are <em class="calibre6">Walk1.svg</em>, <em class="calibre6">Walk2.svg</em>, and so on up to <em class="calibre6">Walk8.svg</em>, as well as <em class="calibre6">Stand.svg</em>, <em class="calibre6">Jump.svg</em>, and <em class="calibre6">Fall.svg</em>.</p>
<p class="indent">Then, in the Scratch editor, click the <span class="literal1">Cat</span> sprite’s <strong class="calibre5">Costumes</strong> tab. Click the <strong class="calibre5">Upload costume from file</strong> button next to New sprite, and select <em class="calibre6">Stand.svg</em> to upload the file. This creates a new sprite with <em class="calibre6">Stand.svg</em> as its costume.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-369"></span>Delete the original <span class="literal1">costume1</span> and <span class="literal1">costume2</span> costumes, but keep the <span class="literal1">hitbox</span> costume. Put the costumes in the following order (it’s important that you match this order exactly):</p>
<ol class="calibre16">
<li value="1" class="calibre17"><p class="noindent"><span class="literal1">Stand</span></p></li>
<li value="2" class="calibre17"><p class="noindent"><span class="literal1">Jump</span></p></li>
<li value="3" class="calibre17"><p class="noindent"><span class="literal1">Fall</span></p></li>
<li value="4" class="calibre17"><p class="noindent"><span class="literal1">Walk1</span></p></li>
<li value="5" class="calibre17"><p class="noindent"><span class="literal1">Walk2</span></p></li>
<li value="6" class="calibre17"><p class="noindent"><span class="literal1">Walk3</span></p></li>
<li value="7" class="calibre17"><p class="noindent"><span class="literal1">Walk4</span></p></li>
<li value="8" class="calibre17"><p class="noindent"><span class="literal1">Walk5</span></p></li>
<li value="9" class="calibre17"><p class="noindent"><span class="literal1">Walk6</span></p></li>
<li value="10" class="calibre17"><p class="noindent"><span class="literal1">Walk7</span></p></li>
<li value="11" class="calibre17"><p class="noindent"><span class="literal1">Walk8</span></p></li>
<li value="12" class="calibre17"><p class="noindent"><span class="literal1">hitbox</span></p></li>
</ol>
<p class="indent">Each costume has not only a name (like <span class="literal1">Walk1</span>, <span class="literal1">Jump</span>, or <span class="literal1">Fall</span>) but also a number. The costume number is based on the costume’s order in the Costumes tab. For example, the costume at the top is named <span class="literal1">Stand</span>, but it is also known as costume 1. The costume beneath it is named <span class="literal1">Jump</span>, but it is also known as costume 2. The code we add in the next step will refer to costumes by their names and numbers.</p>
<h4 class="h3" id="calibre_link-245"><strong class="calibre2">12. Create the Set Correct Costume Block</strong></h4>
<p class="noindent">With all these different costumes, it will be a bit tricky to determine which frame we need to show and when. We’ll use the idea of animation frames: several frames shown together quickly make a moving image, just like a flip book.</p>
<p class="indent">To keep track of the frames, create two For this sprite only variables named <span class="literal1">frame</span> and <span class="literal1">frames per costume</span>. Then add two <span class="literal1"><strong class="calibre5">set</strong></span> blocks for these initial variables to the <span class="literal1">Cat</span> sprite’s <span class="literal1"><strong class="calibre5">when green flag clicked</strong></span> script.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-610"></span><img src="images/00029.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Now the setup is done.</p>
<p class="indent">As the player moves the <span class="literal1">Cat</span> sprite left or right, we want the <span class="literal1">frame</span> variable to increase. The <span class="literal1">frames per costume</span> variable keeps track of how fast or slow the animation runs.</p>
<p class="indent">Let’s edit the code in the <span class="literal1"><strong class="calibre5">define walk</strong></span> custom block to increase the <span class="literal1">frame</span> variable by an amount calculated from <span class="literal1">frames per costume</span>.</p>
<div class="image"><img src="images/00339.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-611"></span>When the cat is standing still (that is, not moving left or right), the <span class="literal1">frame</span> variable should be reset to <span class="literal1">0</span>. Modify the <span class="literal1">Cat</span> sprite’s existing <span class="literal1"><strong class="calibre5">when green flag clicked</strong></span> script to add a third <span class="literal1"><strong class="calibre5">if then</strong></span> block that resets the <span class="literal1">frame</span> variable.</p>
<div class="image"><img src="images/00002.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Now let’s write some code to determine which costume to show. We’ll use this code in a few places in the scripts we’ve written, so let’s make a custom block.</p>
<p class="indent">In the dark purple <em class="calibre6">More Blocks</em> category, click the <strong class="calibre5">Make a Block</strong> button and name this block <span class="literal1"><strong class="calibre5">set correct costume</strong></span>. Click the gray <strong class="calibre5">Options</strong> triangle, check the option <strong class="calibre5">Run without screen refresh</strong>, and then click <strong class="calibre5">OK</strong>. Add the following blocks to the <span class="literal1">Cat</span> sprite, starting with the new <span class="literal1"><strong class="calibre5">define set correct costume</strong></span> block.</p>
<div class="image"><img src="images/00006.jpeg" alt="image" class="calibre3" /></div>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-268"></span><img src="images/00150.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">If the <span class="literal1">Cat</span> sprite is on the ground (or has just started jumping or falling so that <span class="literal1">in air</span> is less than <span class="literal1">3</span>), then we want to display either the standing costume or one of the walking costumes. Remember that the <span class="literal1"><strong class="calibre5">when green flag clicked</strong></span> script keeps setting <span class="literal1">frame</span> to <span class="literal1">0</span> if the player isn’t pressing the A key or D key. So when <span class="literal1">frame</span> is <span class="literal1">0</span>, the <span class="literal1"><strong class="calibre5">switch costume to Stand</strong></span> block displays the <span class="literal1">Stand</span> costume. Otherwise, we must calculate which of the eight walking costumes to show. This calculation refers to costumes by their numbers, which are based on their order in the Costumes tab.</p>
<p class="indent">Which walking costume is shown is decided by the <span class="literal1"><strong class="calibre5">switch costume to floor of 4 + frame mod 8</strong></span> blocks. Wow, that looks complicated! Let’s break it down to better understand each part.</p>
<p class="indent">The <span class="literal1"><strong class="calibre5">mod</strong></span> block does a <em class="calibre6">modulo</em> mathematical operation, which is the remainder part of division. For example, 7 / 3 = 2 remainder 1, so 7 mod 3 = 1 (the remainder part). We’ll use <span class="literal1"><strong class="calibre5">mod</strong></span> to calculate which costume number to display.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-447"></span>The <span class="literal1">frame</span> variable keeps increasing, even though we only have eight walking costumes. When <span class="literal1">frame</span> is set to a number from <span class="literal1">0</span> to <span class="literal1">7</span>, we want it to display costumes 4 to 11. This is why our code has the <span class="literal1"><strong class="calibre5">4 + frame</strong></span> blocks. But when <span class="literal1">frame</span> increases to <span class="literal1">8</span>, we want to go back to costume 4, not costume 12.</p>
<p class="indent">The <span class="literal1"><strong class="calibre5">mod</strong></span> block helps us do this wrap around with the costume numbers. We can control the costume that is displayed by using a math trick: because 8 mod 8 = 0, a <span class="literal1">frame</span> value of <span class="literal1">8</span> will show the first walking costume! We have to add <span class="literal1">4</span> to this number, because the first walking costume is actually costume 4. (Remember, costume 1, costume 2, and costume 3 are the standing, jumping, and falling costumes, respectively.) This sum is then used with the <span class="literal1"><strong class="calibre5">floor</strong></span> block. <em class="calibre6">Floor</em> is a programming term that means “round down.” Sometimes <span class="literal1"><strong class="calibre5">frame</strong></span> will be set to a number like <span class="literal1">4.25</span> or <span class="literal1">4.5</span>, and so <span class="literal1"><strong class="calibre5">4 + frame</strong></span> would be <span class="literal1">8.25</span> or <span class="literal1">8.5</span>, but we just want to round down to show costume 8.</p>
<p class="indent">Whew! That’s the most math you’ve seen in this book so far, but when it’s broken down, it becomes easier to understand.</p>
<p class="indent">The code in the <span class="literal1"><strong class="calibre5">else</strong></span> part of the <span class="literal1"><strong class="calibre5">if then else</strong></span> block handles what happens if <span class="literal1">in air</span> is greater than or equal to <span class="literal1">3</span>. We check <span class="literal1">y velocity</span> to see if the cat is falling (that is, if <span class="literal1">y velocity</span> is less than or equal to <span class="literal1">0</span>) or jumping (that is, if <span class="literal1">y velocity</span> is greater than <span class="literal1">0</span>) and switch to the correct costume. Finally, the <span class="literal1"><strong class="calibre5">define set correct costume</strong></span> code finishes.</p>
<p class="indent">Replace the <span class="literal1"><strong class="calibre5">switch costume to costume1</strong></span> blocks in the <span class="literal1"><strong class="calibre5">define handle ground</strong></span> and <span class="literal1"><strong class="calibre5">define walk</strong></span> blocks with the new <span class="literal1"><strong class="calibre5">set correct costume</strong></span> blocks. Also, add the <span class="literal1"><strong class="calibre5">change frame by 1 / frames per costume</strong></span> blocks so that the <span class="literal1">frame</span> variable increases over time, as shown here.</p>
<div class="image"><img src="images/00270.jpeg" alt="image" class="calibre3" /></div>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-612"></span><img src="images/00152.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-613"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-439" class="calibre1"></span><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Move the cat around the Stage, and make sure the walking animation displays correctly. Also, make sure the standing, jumping, and falling costumes are shown at the right times. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer7.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-246" class="calibre4"></a><p class="h3a"><img src="images/00241.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">CREATE THE LEVEL</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The new walking animation makes the <em class="calibre6">Platformer</em> game look more appealing. Now let’s change the plain white background into a real level. What’s great about the code we’ve written for the <span class="literal1">Cat</span> sprite to walk, jump, and fall is that it will work with a <span class="literal1">Ground</span> sprite of any shape or color. So if we change the <span class="literal1">Ground</span> sprite’s costume (say, for different levels) we don’t have to reprogram the <span class="literal1">Cat</span> sprite!</p>
<h4 class="h3" id="calibre_link-247"><strong class="calibre2">13. Download and Add the Stage Backdrop</strong></h4>
<p class="noindent">Click the <span class="literal1">Ground</span> sprite’s <strong class="calibre5">Costumes</strong> tab. Click the <strong class="calibre5">Upload costume from file</strong> button and select <em class="calibre6">PlatformerBackdrop.png</em>, which is in the resources ZIP file. After this costume has uploaded, you can delete the previous costume.</p>
<p class="indent">It’s not enough to add the file <em class="calibre6">PlatformerBackdrop.png</em> as a costume for the <span class="literal1">Ground</span> sprite. You must also upload it as a Stage backdrop. Click the <strong class="calibre5">Upload backdrop from file</strong> button next to New backdrop, and select <em class="calibre6">PlatformerBackdrop.png</em> to upload it. We need to upload the file to both places because we’ll be erasing all the “background parts” from the <span class="literal1">Ground</span> sprite in the next step. We only need the <span class="literal1">Ground</span> sprite to mark which parts the <span class="literal1">Cat</span> sprite can walk on. The backdrop will be the image that is displayed on the Stage.</p>
<h4 class="h3" id="calibre_link-248"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-393" class="calibre1"></span><strong class="calibre2">14. Create a Hitbox Costume for the Ground Sprite</strong></h4>
<p class="noindent">The <em class="calibre6">Platformer</em> game code is based on the <span class="literal1">Cat</span> sprite touching the <span class="literal1">Ground</span> sprite. The <span class="literal1">Ground</span> sprite’s costume is a hitbox, so if the <span class="literal1">Ground</span> sprite’s costume is a full rectangle that takes up the entire Stage, it will be treated as though the entire Stage is solid ground. We need to remove the parts of the <span class="literal1">Ground</span> sprite’s costume that are part of the background and not platforms.</p>
<p class="indent">The easiest way to do this is to click the Select tool in the Paint Editor. Drag a Select rectangle over the part of the costume you want to delete. After selecting an area, press <small class="calibre15">DELETE</small> to remove that piece.</p>
<div class="image"><img src="images/00031.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Use the Eraser tool to erase areas that aren’t rectangular. If you make a mistake, click the Undo button at the top of the Paint Editor to undo the deletion.</p>
<p class="indent">Keep removing the background parts of the costume until only the platform parts remain.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-409"></span><img src="images/00034.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">If you’re having trouble creating this costume, you can use the premade <em class="calibre6">PlatformerBackdropHitbox.png</em> image in the resources ZIP file. The background parts of the image are already deleted, so you just need to click the <strong class="calibre5">Upload costume from file</strong> button on the Costumes tab to add it.</p>
<h4 class="h3" id="calibre_link-249"><strong class="calibre2">15. Add the Ground Sprite’s Code</strong></h4>
<p class="noindent">The Stage backdrop is used to set the appearance of the platforms and background. The <span class="literal1">Ground</span> sprite is used to identify which parts are solid ground that the <span class="literal1">Cat</span> sprite can walk on. Add the following code to the <span class="literal1">Ground</span> sprite’s Scripts Area:</p>
<div class="image"><img src="images/00157.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1">Ground</span> sprite’s costume needs to line up perfectly over the Stage’s backdrop so that you can’t tell it’s there. Because the Stage backdrop and the <span class="literal1">Ground</span> sprite’s costume came from the same image file, you can do this by moving the <span class="literal1">Ground</span> sprite to the coordinates (0, 0). Otherwise, the <span class="literal1">Ground</span> sprite’s costume won’t line up perfectly over the backdrop.</p>
<p class="indent">The <em class="calibre6">drawing</em> of the <span class="literal1">Ground</span> sprite’s costume doesn’t matter as much as the <em class="calibre6">shape</em> of the costume. As long as the <span class="literal1">Ground</span> sprite is lying perfectly on top of the backdrop, we can set the <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-614"></span>ghost effect to <span class="literal1">100</span>, and the <span class="literal1">Ground</span> costume and backdrop will line up. The backdrop shows what the level looks like, while the <span class="literal1">Ground</span> sprite acts as its hitbox.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-615"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make sure you can move the cat all around the Stage. Then click the red stop sign and save your program.</p>
</div>
<h4 class="h3" id="calibre_link-250"><strong class="calibre2">16. Add More Wrap-Around Code to the Cat Sprite</strong></h4>
<p class="noindent">Notice that the level has a couple floating platforms and a hill with a pit in the middle. When the cat falls down the pit, it wraps around the Stage and reappears at the top. Let’s add wrap-around code for the left and right edges of the Stage as well. Add the following script to the <span class="literal1">Cat</span> sprite.</p>
<div class="image"><img src="images/00304.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">When the cat walks to the left edge of the Stage, its <span class="literal1"><strong class="calibre5">x position</strong></span> will be less than <span class="literal1">-230</span>. In that case, we make it wrap around to the right edge by setting the <span class="literal1"><strong class="calibre5">x position</strong></span> to <span class="literal1">230</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-438"></span>Also, if the cat is moving from the left side of the Stage, its <span class="literal1"><strong class="calibre5">y position</strong></span> will be less than <span class="literal1">5</span>. This will put it inside the ground when moved to the right edge of the Stage, so an <span class="literal1"><strong class="calibre5">if then</strong></span> block checks for this condition and sets the <span class="literal1"><strong class="calibre5">y position</strong></span> to <span class="literal1">5</span>.</p>
<div class="image"><img src="images/00044.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The other <span class="literal1"><strong class="calibre5">if then</strong></span> block wraps the <span class="literal1">Cat</span> to the left edge of the Stage if it’s on the right edge (that is, its <span class="literal1"><strong class="calibre5">x position</strong></span> is greater than <span class="literal1">230</span>.)</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-616"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make sure the cat can walk off the left edge of the Stage and wrap around to the right, and vice versa. Then click the red stop sign and save your program.</p>
<p class="indent">If you’re lost, open <em class="calibre6">platformer8.sb</em> in the resources ZIP file and continue reading from this point.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-251" class="calibre4"></a><p class="h3a"><img src="images/00160.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">ADD CRAB ENEMIES AND APPLES</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The entire <em class="calibre6">Platformer</em> game setup is complete! The player can make the <span class="literal1">Cat</span> sprite walk, jump, fall, and stand on platforms. <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-407"></span>The <span class="literal1">Cat</span> sprite has some cool animations, and the backdrop looks like a real video game.</p>
<p class="indent">Now all we have to do is make a game using all the pieces we have. We’ll add an apple that appears randomly around the Stage (similar to the <em class="calibre6">Snaaaaaake</em> game in <a href="#calibre_link-5" class="calibre4">Chapter 6</a>) and add a few enemies that try to touch the <span class="literal1">Cat</span> sprite and steal the apples.</p>
<h4 class="h3" id="calibre_link-252"><strong class="calibre2">17. Add the Apple Sprite and Code</strong></h4>
<p class="noindent">Click the <strong class="calibre5">Choose sprite from library</strong> button and select the <span class="literal1">Apple</span> sprite from the Sprite Library window that appears; then click <strong class="calibre5">OK</strong>.</p>
<p class="indent">As in previous games, we’ll use a variable to track the game’s score. Click the orange <em class="calibre6">Data</em> category, and then click the <strong class="calibre5">Make a Variable</strong> button to create a For all sprites variable named <span class="literal1">Apples Collected</span>. This variable will keep track of the player’s score.</p>
<p class="indent">In the <span class="literal1">Apple</span> sprite’s Scripts Area, add the following code.</p>
<div class="image"><img src="images/00043.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">At the start of the game, when the player clicks the green flag, the score in <span class="literal1">Apples Collected</span> is set to <span class="literal1">0</span>. Also, because the <span class="literal1">Apple</span> sprite is a bit too big, we set its size to 50 percent.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-423"></span>During the game, the <span class="literal1">Apple</span> sprite needs to appear in random places on the Stage. We make the <span class="literal1">Apple</span> sprite invisible using <span class="literal1"><strong class="calibre5">set ghost effect to 100</strong></span>. It then moves to a random place on the Stage.</p>
<p class="indent">But not just any random place on the Stage will do. We need to make sure the <span class="literal1">Apple</span> sprite is not inside the <span class="literal1">Ground</span> sprite, because it would be impossible for the player to get it. To prevent the <span class="literal1">Apple</span> sprite from moving to somewhere inside the <span class="literal1">Ground</span> sprite, the loop keeps trying new random places until the <span class="literal1">Apple</span> sprite is no longer touching the <span class="literal1">Ground</span> sprite. The movement of the apple won’t be visible to the player, because the ghost effect is still set to <span class="literal1">100</span>. When the <span class="literal1">Apple</span> sprite finds a place that is not touching the <span class="literal1">Ground</span> sprite, it becomes visible again with <span class="literal1"><strong class="calibre5">set ghost effect to 0</strong></span>.</p>
<p class="indent">Then the <span class="literal1">Apple</span> sprite waits until the <span class="literal1">Cat</span> sprite touches it. When that happens, the score in <span class="literal1">Apples Collected</span> increases by <span class="literal1">1</span>, and the <span class="literal1">Apple</span> sprite loops to find a new random place on the Stage.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-617"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make sure the <span class="literal1">Apple</span> sprite never appears inside the ground. When the cat touches the apple, the score in <span class="literal1">Apples Collected</span> should increase by <span class="literal1">1</span>, and the <span class="literal1">Apple</span> sprite should move to a new random place. Click the red stop sign and save your program.</p>
</div>
<h4 class="h3" id="calibre_link-253"><strong class="calibre2">18. Create the Crab Sprite</strong></h4>
<p class="noindent">The game wouldn’t be very challenging if all the player had to do was jump around and collect apples. Let’s add some enemies that the player must avoid.</p>
<p class="indent">Right-click the <span class="literal1">Cat</span> sprite and select <strong class="calibre5">duplicate</strong>. The enemies will use the same code as the <span class="literal1">Cat</span> sprite so that they can jump and fall on the platforms. (We’ll remove the code that assigns the keyboard keys to control the sprite and replace it with code that moves the crabs around randomly.) Rename <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-282"></span>this duplicated sprite <span class="literal1">Crab</span>. Then, in the Costumes tab, click the <strong class="calibre5">Choose costume from library</strong> button, select the <span class="literal1">crab-a</span> costume, and click <strong class="calibre5">OK</strong>. Then open the Costume Library again and select the <span class="literal1">crab-b</span> costume.</p>
<p class="indent">The <span class="literal1">Crab</span> sprite will still have all the <span class="literal1">Cat</span> sprite costumes (<span class="literal1">Stand</span>, <span class="literal1">Fall</span>, <span class="literal1">Walk1</span>, and so on). Delete these <span class="literal1">Cat</span> sprite costumes, including the <span class="literal1">hitbox</span> costume. Create a new <span class="literal1">hitbox</span> costume that is the right size for the crab. Here’s what the <span class="literal1">hitbox</span> costume should look like (the <span class="literal1">crab-a</span> costume has been placed over it so you can see the relative size, but the costume is just the black rectangle).</p>
<div class="image"><img src="images/00072.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-254"><strong class="calibre2">19. Create the Enemy Artificial Intelligence</strong></h4>
<p class="noindent">In games, <em class="calibre6">artificial intelligence (AI)</em> refers to the code that controls the enemies’ movements and how they react to the player. In the platform game, the AI for the crabs is actually pretty <em class="calibre6">un</em>intelligent: the crabs will just move around randomly.</p>
<p class="indent">In the orange <em class="calibre6">Data</em> category, click the <strong class="calibre5">Make a Variable</strong> button and create a For this sprite only variable named <span class="literal1">movement</span>. The <span class="literal1">movement</span> variable will store a number representing the <span class="literal1">Crab</span> sprite’s movements:</p>
<div class="image"><img src="images/00065.jpeg" alt="image" class="calibre3" /></div>
<ol class="calibre16">
<li value="1" class="calibre17"><p class="noindent">Walk left</p></li>
<li value="2" class="calibre17"><p class="noindent">Walk right</p></li>
<li value="3" class="calibre17"><p class="noindent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-618"></span>Jump up straight</p></li>
<li value="4" class="calibre17"><p class="noindent">Jump to the left</p></li>
<li value="5" class="calibre17"><p class="noindent">Jump to the right</p></li>
<li value="6" class="calibre17"><p class="noindent">Stay still</p></li>
</ol>
<p class="indent">The <span class="literal1">Crab</span> sprite’s movements will be randomly decided and will frequently change. Add the following code to the <span class="literal1">Crab</span> sprite.</p>
<div class="image"><img src="images/00166.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-356"></span>At first, the <span class="literal1">movement</span> variable is set to a random number between <span class="literal1">1</span> and <span class="literal1">6</span> that decides which movement the crab will make.</p>
<p class="indent">The rest of the <span class="literal1">Crab</span> sprite’s code defines these movements. Find any code from the <span class="literal1">Cat</span> sprite code that used the <span class="literal1"><strong class="calibre5">when key pressed</strong></span> blocks and replace those blocks with blocks that check the <span class="literal1">movement</span> variable. (If you ran the program right now, the keyboard keys would control the <span class="literal1">Cat</span> <em class="calibre6">and</em> <span class="literal1">Crab</span> sprites, because they have the same code!)</p>
<p class="indent">Modify the <span class="literal1">Crab</span> sprite script that checks whether the player is pressing the A key or D key to match the following code.</p>
<div class="image"><img src="images/00192.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">As with the <span class="literal1">Cat</span> sprite, this code lets the <span class="literal1">Crab</span> sprite walk left and right. Change the values in the <span class="literal1"><strong class="calibre5">walk</strong></span> blocks to <span class="literal1">-4</span> and <span class="literal1">4</span> to make the crab move slower than the player.</p>
<p class="indent">Then change the script that handles the player pressing the W key to jump to match the following code.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-357"></span><img src="images/00237.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code lets the <span class="literal1">Crab</span> sprite jump up, left, and right.</p>
<p class="indent">Now let’s animate the crab’s movements. The <span class="literal1">Crab</span> sprite has only two costumes, <span class="literal1">crab-a</span> and <span class="literal1">crab-b</span>. We’ll switch between these two costumes to make it look like the crab is walking. We can simplify the <span class="literal1"><strong class="calibre5">set correct costume</strong></span> block for the <span class="literal1">Crab</span> sprite a bit.</p>
<p class="indent">Modify the <span class="literal1"><strong class="calibre5">set correct costume</strong></span> code to look like the following:</p>
<div class="image"><img src="images/00278.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Notice that the numbers in the <span class="literal1"><strong class="calibre5">floor of 1 + frame mod 2</strong></span> blocks have also changed. The first costume is costume 1, and the <span class="literal1">Crab</span> has only two costumes, so the numbers in these blocks have been changed to <span class="literal1">1</span> and <span class="literal1">2</span>.</p>
<p class="indent">Finally, we need to create a new script so that the crabs can steal apples from the player. Add this code to the <span class="literal1">Crab</span> sprite.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-619"></span><img src="images/00317.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1">Crab</span> sprites subtract <span class="literal1">1</span> from <span class="literal1">Apples Collected</span> and say “Got one!” when they touch the player. If the player has <span class="literal1">0</span> apples, the <span class="literal1">Crab</span> sprites will say “Apples!” but will not subtract <span class="literal1">1</span> from <span class="literal1">Apples Collected</span>.</p>
<p class="indent">The game will be a bit more exciting with two crabs, so right-click the <span class="literal1">Crab</span> sprite in the Sprite List and select <strong class="calibre5">duplicate</strong> from the menu.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-620"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Make sure the two crabs are jumping around. When they touch the cat, they should steal an apple and say “Got one!” If the cat doesn’t have any apples, the crabs should just say “Apples!” Then click the red stop sign and save your program.</p>
</div>
<h4 class="h3" id="calibre_link-255"><strong class="calibre2">20. Add the Time’s Up Sprite</strong></h4>
<p class="noindent">We’re almost done! The last thing we need to add to the game is a timer. The player will be under pressure to grab apples as <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-456"></span>quickly as possible instead of playing it safe. Click the <strong class="calibre5">Paint new sprite</strong> button, and draw the text <em class="calibre6">Time’s Up</em> in the Paint Editor. Mine looks like this:</p>
<div class="image"><img src="images/00040.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Rename the sprite <span class="literal1">Time’s Up</span>. Then create a For all sprites variable named <span class="literal1">Timer</span>, and add the following code.</p>
<div class="image"><img src="images/00032.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code gives the player 45 seconds to collect as many apples as possible while trying to avoid the crabs who will steal one. When the <span class="literal1">Timer</span> variable reaches <span class="literal1">0</span>, the <span class="literal1">Time’s Up</span> sprite will appear and the game will end.</p>
<p class="indent">Now the <em class="calibre6">Platformer</em> game is ready for final testing!</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-621"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-622" class="calibre1"></span><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Walk and jump around, collecting apples while trying to avoid the crabs. Make sure that when the timer reaches <span class="literal1">0</span>, the game ends. Then click the red stop sign and save your program.</p>
<p class="indent">The code for this program is too large to list the complete code in this book. However, you can view the completed code in the resources ZIP file&mdash;the filename is <em class="calibre6">platformer.sb2</em>.</p>
</div>
<h3 class="h2" id="calibre_link-256"><strong class="calibre2">SUMMARY</strong></h3>
<p class="noindent">You did it! You’re a Scratch master! The advanced <em class="calibre6">Platformer</em> game is the most elaborate and complex project in this book. You combined and used lots of different concepts to make this game, so it might help to read through this chapter a few more times.</p>
<p class="indent">In this chapter, you built a game that</p>
<p class="arrowt"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Uses a ground sprite that the player stands on</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Uses dark purple custom blocks with the Run without screen refresh option enabled</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Lets the player walk up and down slopes</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Has ceiling detection so the player bumps their head on low platforms</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Has detailed animations for walking, jumping, and falling</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Implements AI for enemies so they move around on their own</p>
<p class="indentt">That wraps it up for this book, but don’t let that stop you from continuing your programming adventure. You can always look through other Scratcher’s programs to get more ideas. Find a game you like, and try to create it from <em class="calibre6">scratch</em>. (All my puns are intended.)</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-396"></span>The great thing about Scratch is that it provides you with unlimited possibilities for the types of games you can make. You can create clones of popular classic games like <em class="calibre6">Pac-Man</em> or <em class="calibre6">Flappy Bird</em>. Or you can make unique games using your own designs. Good luck!</p>
<div class="image"><img src="images/00048.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarb">
<p class="sidebartb" id="calibre_link-257"><strong class="calibre2">REVIEW QUESTIONS</strong></p>
<p class="noindent">Try to answer the following practice questions to test what you’ve learned. You probably won’t know all the answers off the top of your head, but you can explore the Scratch editor to figure out the answers. (The answers are also online at <em class="calibre6"><a href="http://www.nostarch.com/scratchplayground/" class="calibre4">http://www.nostarch.com/scratchplayground/</a></em>.)</p>
<ol class="calibre16">
<li value="1" class="calibre17"><p class="noindent">The dark purple custom blocks help you avoid duplicating code. Why is this a good thing?</p></li>
<li value="2" class="calibre17"><p class="noindent">How is a dark purple custom block’s input like a variable?</p></li>
<li value="3" class="calibre17"><p class="noindent">Where can you use a dark purple custom block’s input?</p></li>
<li value="4" class="calibre17"><p class="noindent">What does <em class="calibre6">modulo</em> mean in mathematics?</p></li>
<li value="5" class="calibre17"><p class="noindent">What does <em class="calibre6">floor</em> mean in programming?<span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-623"></span></p></li>
</ol>
</div>
</div>

<div id="calibre_link-265" class="calibre">
<h2 class="h2a" id="calibre_link-23"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-624" class="calibre1"></span><strong class="calibre2">WHERE TO GO FROM HERE</strong></h2>
<p class="noindent">Ready for more? There are plenty of Scratch resources to keep things exciting.</p>
<p class="arrowt"><img src="images/00010.jpeg" alt="image" class="calibre3" /> <strong class="calibre5">Scratch Programming Playground Studio</strong> (<em class="calibre6"><a href="http://www.inventwithscratch.com/studio/" class="calibre4">http://www.inventwithscratch.com/studio/</a></em>) is a place to share your own games based on the ones in the book! You can check out other readers’ projects while you’re there.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> <strong class="calibre5">The Scratch Forums</strong> (<em class="calibre6"><a href="http://scratch.mit.edu/discuss/" class="calibre4">http://scratch.mit.edu/discuss/</a></em>) is a place for Scratchers to share ideas and ask and answer questions.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> <strong class="calibre5">Learn to Program with Scratch</strong> by Majed Marji (No Starch Press, 2014; <em class="calibre6"><a href="https://www.nostarch.com/learnscratch/" class="calibre4">https://www.nostarch.com/learnscratch/</a></em>), is a book with more projects for learning computer science concepts in Scratch.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> <strong class="calibre5">ScratchEd</strong> (<em class="calibre6"><a href="http://scratched.gse.harvard.edu/" class="calibre4">http://scratched.gse.harvard.edu/</a></em>), is an online community created for teachers and other educators who use Scratch. Share your success stories, exchange Scratch resources, ask questions, and more.</p>
<p class="indentt">There are many fun games and animations you can make with Scratch, but it does have some limitations. Your Scratch programs might not look like “real” games you play on a PC, game console, or smartphone.</p>
<p class="indent">So it’s only natural that you might want to learn how to write code in a professional programming language. There are many languages to choose from, but I recommend Python or JavaScript. Python is the easiest language to learn (aside from Scratch) but it is still a language used by professional software developers. JavaScript is not quite as easy, but it’s the language used for web apps that run in your browser.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-625"></span>If you want to learn Python, I recommend a book I wrote: <em class="calibre6">Invent Your Own Computer Games with Python</em>. This book is free to read online at <em class="calibre6"><a href="https://inventwithpython.com/" class="calibre4">https://inventwithpython.com/</a></em>, or you can buy it at <em class="calibre6"><a href="https://www.nostarch.com/inventwithpython/" class="calibre4">https://www.nostarch.com/inventwithpython/</a></em>. If you want to learn JavaScript, I recommend Nick Morgan’s <em class="calibre6">JavaScript for Kids</em> (No Starch Press, 2014; <em class="calibre6"><a href="https://www.nostarch.com/javascriptforkids/" class="calibre4">https://www.nostarch.com/javascriptforkids/</a></em>). These books are great for the next step of your journey to become a master programmer!</p>
</div>


</body></html>