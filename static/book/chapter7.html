<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><title>Scratch Programming Playground</title></head><body>



<div id="calibre_link-9" class="calibre">
<h2 class="h1" id="calibre_link-8"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-399" class="calibre1"></span><strong class="calibre2">7</strong><br class="calibre9" /><strong class="calibre2">FRUIT SLICER</strong></h2>
<p class="noindent"><em class="calibre6">Fruit Ninja</em> was a popular mobile game released in 2010. In the game, fruit is thrown in the air, and the player must slice it before it hits the ground. In this chapter, you’ll make the <em class="calibre6">Fruit Slicer</em> game, which copies the mechanics of the <em class="calibre6">Fruit Ninja</em> game. Just as exciting, we’ll program this game using some completely new Scratch features, so get ready!</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-561"></span>Before you start coding, look at the final program at <em class="calibre6"><a href="https://www.nostarch.com/scratchplayground/" class="calibre4">https://www.nostarch.com/scratchplayground/</a></em>.</p>
<div class="image"><img src="images/00089.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">In the version we’ll create, the player slices fruit by clicking and dragging the mouse.</p>
<div class="image"><img src="images/00090.jpeg" alt="image" class="calibre3" /></div>
<h3 class="h2" id="calibre_link-177"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-382" class="calibre1"></span><strong class="calibre2">SKETCH OUT THE DESIGN</strong></h3>
<p class="noindent">Let’s draw what the game should look like. The sketch for the <em class="calibre6">Fruit Slicer</em> game should look something like this:</p>
<div class="image"><img src="images/00092.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">If you want to save time, you can start from the skeleton project file, named <em class="calibre6">fruitslicer-skeleton.sb2</em>, in the resources ZIP file. Go to <em class="calibre6"><a href="https://www.nostarch.com/scratchplayground/" class="calibre4">https://www.nostarch.com/scratchplayground/</a></em> and download the ZIP file to your computer by right-clicking the link and selecting <strong class="calibre5">Save link as</strong> or <strong class="calibre5">Save target as</strong>. Extract all the files from the ZIP file. The skeleton project file has all the sprites already loaded, so you’ll only need to drag the code blocks into each sprite.</p>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-307"></span><a id="calibre_link-178" class="calibre4"></a><p class="h3a"><img src="images/00033.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE START SCREEN BACKDROP</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc"><em class="calibre6">Fruit Slicer</em> will have a <em class="calibre6">start screen</em>. When the player clicks the green flag, the start screen shows the game’s title. When the player loses, the game will return to the start screen. The start screen is a good place to put your name or logo when you show off your games to others. In fact, try to come up with a game studio name for you and your programs now!</p>
<p class="indent">Start a new project in the Scratch editor, and enter <em class="calibre6">Fruit Slicer</em> as the project name.</p>
<h4 class="h3" id="calibre_link-179"><strong class="calibre2">1. Draw the Backdrops</strong></h4>
<p class="noindent">Select the Stage in the Sprite List, and then click the <strong class="calibre5">Backdrops</strong> tab at the top of the Blocks Area. (The Costumes tab is renamed Backdrops when the Stage is selected.) Select a color, and then use the Line tool to draw the letters in the <em class="calibre6">Fruit Slicer</em> title. Then use the Fill tool to fill in the letters.</p>
<div class="image"><img src="images/00294.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">After drawing the title, replace the white background with a dark brown gradient. (When you select the Fill tool, the four gradient buttons appear next to the color buttons.) First click the Color switcher and select a light brown color. Then click <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-435"></span>one of the gradient buttons to select the gradient type. I used the vertical gradient.</p>
<div class="image"><img src="images/00295.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Click the Paint Editor’s canvas to fill the background with your gradient. If you want to experiment, click the <strong class="calibre5">Undo</strong> button at the top of the Paint Editor before you try a different gradient. Be sure to also fill in the holes in the <em class="calibre6">R</em> letters. When you’re done, rename the backdrop <span class="literal1">start screen</span>.</p>
<div class="image"><img src="images/00296.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Now we need to create a plain backdrop. When the game begins, the program should hide the <em class="calibre6">Fruit Slicer</em> title and <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-340"></span>switch to this backdrop. Click the <strong class="calibre5">Paint new backdrop</strong> button under New backdrop to create a second backdrop. Then draw a brown gradient for this backdrop, like this:</p>
<div class="image"><img src="images/00297.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Rename this new backdrop <span class="literal1">game screen</span>. We’ll switch between the start screen and game screen backdrops when the game starts.</p>
<h4 class="h3" id="calibre_link-180"><strong class="calibre2">2. Add the Code for the Stage</strong></h4>
<p class="noindent">Now let’s program the Stage. Select the Stage in the Sprite List, and click the <strong class="calibre5">Scripts</strong> tab at the top of the Blocks Area. Create two variables, <span class="literal1">Score</span> and <span class="literal1">High Score</span>, by clicking the <strong class="calibre5">Make a Variable</strong> button in the orange <em class="calibre6">Data</em> category. Make both variables For all sprites.</p>
<div class="note">
<p class="notet"><strong class="calibre2">NOTE</strong></p>
<p class="notep"><em class="calibre6">The Stage only uses For all sprites variables, so the For this sprite only option won’t even appear here!</em></p>
</div>
<p class="indent">You also need to create two new broadcast messages, <span class="literal1">start screen</span> and <span class="literal1">start game</span>. Do this by clicking the black triangle in a <span class="literal1"><strong class="calibre5">broadcast</strong></span> or <span class="literal1"><strong class="calibre5">when I receive</strong></span> block and selecting <strong class="calibre5">new message</strong>. Then add the following scripts to the Stage.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-403"></span><img src="images/00298.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code resets <span class="literal1">High Score</span> and <span class="literal1">Score</span> to <span class="literal1">0</span> when the program begins. The <span class="literal1">start screen</span> message is broadcast at the beginning of the program and when the player loses a game. The <span class="literal1">Score</span> variable is reset to <span class="literal1">0</span>, and <span class="literal1"><strong class="calibre5">switch backdrop to start screen</strong></span> makes the start screen appear again when the player loses a game.</p>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-181" class="calibre4"></a><p class="h3a"><img src="images/00161.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE SLICE TRAIL</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">There isn’t a sprite used for the player’s character in <em class="calibre6">Fruit Slicer</em>. Instead, the player clicks and drags the mouse across the screen, causing a trail to briefly appear as a blade slice effect.</p>
<div class="image"><img src="images/00299.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-182"><strong class="calibre2">3. Draw the Slice Sprite</strong></h4>
<p class="noindent">Click the <strong class="calibre5">Paint new sprite</strong> button next to New sprite. Open the Info Area and rename the sprite <span class="literal1">Slice</span>. In the Paint Editor, draw a light blue rectangle that looks like the following.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-420"></span><img src="images/00300.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1">Slice</span> sprite should <em class="calibre6">not</em> be the same color as any color used in the fruits. Otherwise, some of the fruits will end up slicing other fruit.</p>
<div class="sidebary">
<p class="sidebarty" id="calibre_link-183"><strong class="calibre2">EXPLORE: MAKING LISTS</strong></p>
<p class="noindent">Now you’ll learn about an advanced Scratch feature&mdash;a new way to store data. A <em class="calibre6">list</em> is like a variable except it can store many values instead of just one value. Open a new web browser tab and start a new Scratch editor. We will explore the list blocks in a new Scratch project. Select the orange <em class="calibre6">Data</em> category and click the <strong class="calibre5">Make a List</strong> button to open the New List window. Name the list <span class="literal1">example list</span> and make it For all sprites.</p>
<div class="image"><img src="images/00302.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-375"></span>New dark orange blocks will appear under the <strong class="calibre5">Make a List</strong> button.</p>
<div class="image"><img src="images/00303.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Lists have more than <span class="literal1"><strong class="calibre5">set to</strong></span> and <span class="literal1"><strong class="calibre5">change by</strong></span> blocks. Lists have values, but each value also has a <em class="calibre6">position</em>, so the values need different kinds of code blocks. Positions in a list are defined by numbers; number 1 is the first value in the list.</p>
<p class="indent">The following blocks control lists:</p>
<p class="arrowt"><img src="images/00305.jpeg" alt="image" class="calibre3" /> The <span class="literal1"><strong class="calibre5">add to</strong></span> block adds a value to the end of the list.</p>
<p class="arrow"><img src="images/00305.jpeg" alt="image" class="calibre3" /> The <span class="literal1"><strong class="calibre5">delete</strong></span> block removes the value at a certain position.</p>
<p class="arrow"><img src="images/00305.jpeg" alt="image" class="calibre3" /> The <span class="literal1"><strong class="calibre5">insert at</strong></span> block is like the <span class="literal1"><strong class="calibre5">add to</strong></span> block, but you can also select the position where the value should be inserted.</p>
<p class="arrow"><img src="images/00305.jpeg" alt="image" class="calibre3" /> The <span class="literal1"><strong class="calibre5">replace item</strong></span> block is like a combination of <span class="literal1"><strong class="calibre5">delete</strong></span> and <span class="literal1"><strong class="calibre5">insert at</strong></span>. It replaces the value at a certain position with a new value.</p>
<p class="indentt">Add the following code and then double-click it to run it. Take a look at the effects of these code blocks on a list named <span class="literal1"><strong class="calibre5">example list</strong></span>.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-562"></span><img src="images/00306.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Recall that you can use the value in a variable in its bubble-shaped block. The list’s bubble-shaped blocks are similar but require you to specify a position so the bubble-shaped block knows which value in the list it should get. The scripts on the left and right sides both make the cat say “Hello!”, but the code that uses a list (left) must also specify the position of the value to use:</p>
<div class="image"><img src="images/00307.jpeg" alt="image" class="calibre3" /></div>
</div>
<h4 class="h3" id="calibre_link-184"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-421" class="calibre1"></span><strong class="calibre2">4. Create Lists and Variables for the Slice Sprite</strong></h4>
<p class="noindent">You’ll create a list for the <em class="calibre6">Fruit Slicer</em> game to keep track of where the player is “slicing” on the screen. Because the slice is drawn between many x and y positions with <em class="calibre6">Pen</em> blocks, using a list is ideal.</p>
<p class="indent">Click the <strong class="calibre5">Scripts</strong> tab at the top of the Blocks Area, and select the orange <em class="calibre6">Data</em> category. Click the <strong class="calibre5">Make a List</strong> button to open the New List window. Name the list <span class="literal1">slice x</span> and make it For this sprite only.</p>
<div class="image"><img src="images/00309.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">New dark orange blocks will appear under the Make a List button.</p>
<div class="image"><img src="images/00310.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-353"></span>In the orange <em class="calibre6">Data</em> category, click the <strong class="calibre5">Make a List</strong> button to make a second list for <em class="calibre6">Fruit Slicer</em>. Name the list <span class="literal1">slice y</span> and make it For this sprite only.</p>
<p class="indent">Then click <strong class="calibre5">Make a Variable</strong>, create a variable named <span class="literal1">i</span>, and make it For this sprite only. You’ll use this <span class="literal1">i</span> variable in the next step. The <span class="literal1">Slice</span> sprite will use the two lists and <span class="literal1">i</span> variable to draw the light blue trail.</p>
<h4 class="h3" id="calibre_link-185"><strong class="calibre2">5. Record the Mouse Movements</strong></h4>
<p class="noindent">You’ll use the <span class="literal1"><strong class="calibre5">Pen</strong></span> blocks to draw lines for the slice. But first you need to know <em class="calibre6">where</em> to draw the lines. Add the following code to the <span class="literal1">Slice</span> sprite:</p>
<div class="image"><img src="images/00313.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">When the player clicks and holds down the mouse button, the mouse position’s x- and y-coordinates are repeatedly added to the end of the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists. If more than four values are in the lists, the value at the beginning of each list is deleted. This is how the program records the mouse’s last four x- and y-coordinates. The first values are also deleted when the mouse button isn’t being held down, so the trail shortens when the player releases the mouse button.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-373"></span>This script provides the proper coordinates for the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists. The next script will actually draw the slice trail.</p>
<h4 class="h3" id="calibre_link-186"><strong class="calibre2">6. Make a Custom Block to Draw the Slice</strong></h4>
<p class="noindent">Select the purple <em class="calibre6">More Blocks</em> category and click the <strong class="calibre5">Make a Block</strong> button to open the New Block window. The purple blocks are custom Scratch blocks that you create.</p>
<p class="indent">Fill in the name <span class="literal1"><strong class="calibre5">draw slice</strong></span> for your new purple block. Click the gray triangle to expand the Options, and check the <strong class="calibre5">Run without screen refresh</strong> checkbox. With this box checked, Scratch will run the code in your custom purple block in Turbo Mode, even if the player didn’t enable Turbo Mode by <small class="calibre15">SHIFT</small>-clicking on the green flag. Click <strong class="calibre5">OK</strong> to create the custom block.</p>
<div class="image"><img src="images/00315.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">A new <span class="literal1"><strong class="calibre5">draw slice</strong></span> block will appear in the dark purple <em class="calibre6">More Blocks</em> category.</p>
<div class="image"><img src="images/00316.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-323"></span>This new block with the curved top in the Scripts Area is the <em class="calibre6">defining</em> block for the <span class="literal1"><strong class="calibre5">draw slice</strong></span> block. When you want to use this new defining block, you must also drag the <span class="literal1"><strong class="calibre5">draw slice</strong></span> block, which is the <em class="calibre6">calling</em> block, from the Blocks Area into the code. Whenever Scratch runs this calling block, the code in the defining block is run.</p>
<p class="indent">Add the following code to the <span class="literal1">Slice</span> sprite:</p>
<div class="image"><img src="images/00319.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The color for the <span class="literal1"><strong class="calibre5">set pen color to</strong></span> block should be the same color as the blue rectangle <span class="literal1">Slice</span> sprite. Click the block’s color square, and then click the light blue color.</p>
<div class="image"><img src="images/00320.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-563"></span>This script hides the <span class="literal1">Slice</span> sprite and sets the pen to the right size and color. Then the <span class="literal1"><strong class="calibre5">forever</strong></span> loop continually runs the <span class="literal1"><strong class="calibre5">draw slice</strong></span> block.</p>
<p class="indent">Next, you need to define the <span class="literal1"><strong class="calibre5">define draw slice</strong></span> block. You want <span class="literal1"><strong class="calibre5">draw slice</strong></span> to draw a line starting with the first coordinates: the first value in the <span class="literal1">slice x</span> list (for the x position) and the first in the <span class="literal1">slice y</span> list (for the y position). This line goes to the x and y positions in the next values of the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists, then the next values, and so on, until the last pair of values is reached. Our code will make sure the lengths of the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists are always the same. Add the following code to the <span class="literal1"><strong class="calibre5">define draw slice</strong></span> block. Notice that the length of <span class="literal1">slice x</span> block is dark orange and from the <em class="calibre6">Data</em> category, not the green <em class="calibre6">Operators</em> category.</p>
<div class="image"><img src="images/00321.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This code lifts up the pen before moving it to the first x-and y-coordinate values in <span class="literal1">slice x</span> and <span class="literal1">slice y</span> and then sets the pen down. Inside the <span class="literal1"><strong class="calibre5">repeat until</strong></span> loop, the code uses a temporary variable named <span class="literal1">i</span> to keep track of where the pen should move next.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-400"></span>The first time through the <span class="literal1"><strong class="calibre5">repeat until</strong></span> loop, the sprite moves to value 2 of the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists. The pen draws a line as the sprite moves. Then <span class="literal1">i</span> increases by 1 the next time through the loop, and the sprite moves to value 3 of the <span class="literal1">slice x</span> and <span class="literal1">slice y</span> lists. The loop continues until <span class="literal1">i</span> is larger than the number of values in the list (that is, the length of the list).</p>
<div class="note">
<p class="notet"><strong class="calibre2">NOTE</strong></p>
<p class="notep"><em class="calibre6">All the code under</em> <span class="literal1"><strong class="calibre5"><em class="calibre6">define draw slice</em></strong></span> <em class="calibre6">could have been put in the other script’s</em> <span class="literal1"><strong class="calibre5"><em class="calibre6">forever</em></strong></span> <em class="calibre6">loop, but then it wouldn’t have run in Turbo Mode. The Run without screen refresh option that you checked when you made the</em> <span class="literal1"><strong class="calibre5"><em class="calibre6">draw slice</em></strong></span> <em class="calibre6">block enables Turbo Mode for the code in</em> <span class="literal1"><strong class="calibre5"><em class="calibre6">define draw slice</em></strong></span><em class="calibre6">. Otherwise, the slice drawing would be too slow for the game.</em></p>
</div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-564"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Hold down the mouse button and drag the cursor around the Stage. Make sure the light blue trail is drawn behind the mouse cursor and that it quickly disappears when the mouse button is released. Then click the red stop sign and save your program.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-187" class="calibre4"></a><p class="h3a"><img src="images/00178.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE BEGIN BUTTON</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc"><em class="calibre6">Fruit Slicer</em> requires the player to have quick reflexes. So let’s add a button to the start screen to give the player a chance to get ready to play. Slicing a begin button with the mouse will start the game.</p>
<h4 class="h3" id="calibre_link-188"><strong class="calibre2">7. Create the Begin Button Sprite</strong></h4>
<p class="noindent">You don’t need to draw the begin button, because Scratch already has one. Click the <strong class="calibre5">Choose sprite from library</strong> button next to New sprite. Select <strong class="calibre5">Button1</strong> from the Sprite <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-565"></span>Library window and click <strong class="calibre5">OK</strong>. Open the Info Area for this sprite and rename it <span class="literal1">Begin Button</span>.</p>
<p class="indent">Click the <strong class="calibre5">Costumes</strong> tab at the top of the Blocks Area. Select the white color; then, using the Text tool, type <em class="calibre6">begin</em> and click somewhere on the canvas but not on the text. Then resize and drag the text over the bottom part of the green button.</p>
<div class="image"><img src="images/00322.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Using the Text tool, create the text <em class="calibre6">begin</em> again. And again, click somewhere on the canvas but not on the text. Grab the top handle of the text box and rotate the text so it’s upside down. Then position it at the top of the green button.</p>
<div class="image"><img src="images/00323.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-404"></span>Add this code to the <span class="literal1">Begin Button</span> sprite:</p>
<div class="image"><img src="images/00325.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Set the color in the <span class="literal1"><strong class="calibre5">touching color?</strong></span> block to the color of the <span class="literal1">Slice</span> sprite in the Sprite List. Click the block’s color square, and then click the light blue color, as you did in Step 6.</p>
<p class="indent">The <span class="literal1">Begin Button</span> slowly rotates on the Stage until the player slices it. The button knows it’s been sliced when the light blue slicing color touches it, at which point it broadcasts the <span class="literal1">start game</span> message to all the other sprites.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-566"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Slice the <span class="literal1">Begin Button</span> sprite. Make sure it disappears and the backdrop changes when it’s sliced. Then click the red stop sign and save your program.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-189" class="calibre4"></a><p class="h3a"><img src="images/00110.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE FRUIT AND BOMBS THROW THEMSELVES</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">Because the fruits in the game look different but have the same behavior, you’ll use one sprite with the same code but different costumes.</p>
<h4 class="h3" id="calibre_link-190"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-347" class="calibre1"></span><strong class="calibre2">8. Create the Fruit Sprite</strong></h4>
<p class="noindent">Click the <strong class="calibre5">Choose sprite from library</strong> button next to New sprite, and select <strong class="calibre5">Apple</strong> from the Sprite Library. Then click <strong class="calibre5">OK</strong>. Click the new sprite’s <span class="circk">i</span> button to open the Info Area, and rename the sprite <span class="literal1">Fruit</span>.</p>
<div class="image"><img src="images/00326.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Click the <span class="literal1">Fruit</span> sprite’s <strong class="calibre5">Costumes</strong> tab. Click the <strong class="calibre5">Choose costume from library</strong> button next to New costume. Add the <span class="literal1">banana</span> costume. Click the button again and add the <span class="literal1">orange</span> costume. Then click the button one more time to add the <span class="literal1">watermelon-a</span> costume. Make sure the order of the costumes matches the following figure. If they’re not in this order, drag the costumes into the correct order.</p>
<div class="image"><img src="images/00327.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-368"></span>The Costume Library doesn’t have a bomb costume, so you’ll have to draw one for the <span class="literal1">Fruit</span> sprite. If the player accidentally slices the bomb, they lose the game. In the Paint Editor, click the <strong class="calibre5">Paint new costume</strong> button next to New costume.</p>
<p class="indent">In the Paint Editor, draw a bomb with a red <em class="calibre6">X</em> on it. Use the Circle tool to draw the main body of the bomb and the Line tool to draw the top and <em class="calibre6">X</em>. Slide the Line width slider to make the lines thicker or narrower. Rename this costume <span class="literal1">bomb</span>.</p>
<div class="image"><img src="images/00330.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-191"><strong class="calibre2">9. Make the Sliced Fruit Costumes</strong></h4>
<p class="noindent">The <span class="literal1">Fruit</span> sprite will have costumes for the four fruits, the bomb, and the sliced fruit. This step is easy because you don’t have to draw anything. You’ll just duplicate the costumes and pull them apart slightly so they look neatly sliced.</p>
<p class="indent">In the Paint Editor, right-click costume 1 (the <span class="literal1">apple</span> costume) and select <strong class="calibre5">duplicate</strong> to create a second apple costume for costume 6.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-567"></span><img src="images/00331.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Duplicate the <span class="literal1">banana</span>, <span class="literal1">orange</span>, <span class="literal1">watermelon-a</span>, and <span class="literal1">bomb</span> costumes as well. Make sure they’re in the same order as the original costumes:</p>
<ol class="calibre16">
<li value="1" class="calibre17"><p class="noindent"><span class="literal1">apple</span></p></li>
<li value="2" class="calibre17"><p class="noindent"><span class="literal1">bananas</span></p></li>
<li value="3" class="calibre17"><p class="noindent"><span class="literal1">orange</span></p></li>
<li value="4" class="calibre17"><p class="noindent"><span class="literal1">watermelon-a</span></p></li>
<li value="5" class="calibre17"><p class="noindent"><span class="literal1">bomb</span></p></li>
<li value="6" class="calibre17"><p class="noindent"><span class="literal1">apple2</span></p></li>
<li value="7" class="calibre17"><p class="noindent"><span class="literal1">bananas2</span></p></li>
<li value="8" class="calibre17"><p class="noindent"><span class="literal1">orange2</span></p></li>
<li value="9" class="calibre17"><p class="noindent"><span class="literal1">watermelon-a2</span></p></li>
<li value="10" class="calibre17"><p class="noindent"><span class="literal1">bomb2</span></p></li>
</ol>
<div class="note">
<p class="notet"><strong class="calibre2">NOTE</strong></p>
<p class="notep"><em class="calibre6">Double-check the order of the costumes! It can be hard to figure out how to fix the costume order later on. Being extra careful now can save you a lot of future frustration.</em></p>
</div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-320"></span>For the code to work with every fruit, the sliced fruit’s costume number will be five more than the unsliced costume. So the apple costume is costume 1, and the sliced apple is costume 6. The banana costume is costume 2, and the sliced banana is costume 7. This is the reason the order of the costumes is important. Also, you need a second bomb costume for costume 10. Duplicate the bomb costume, but you don’t have to draw a sliced version of it.</p>
<p class="indent">The fruit costumes were drawn in Scratch’s Vector Mode, which means they were drawn as a collection of shapes rather than as a grid of pixels. Although vector images look better than bitmap images, vector images can’t be split in half with the Paint Editor’s drawing tools. You’ll need to convert the costumes to Bitmap Mode first.</p>
<p class="indent">For each duplicated fruit costume (costumes 6, 7, 8, and 9), select the costume and click the <strong class="calibre5">Convert to bitmap</strong> button in the lower right of the Paint Editor. Then use the Select tool to drag a selection rectangle over half of the costume. Drag the selected half away from the other half a bit, and rotate it a little to make it look like it’s been cut in half.</p>
<div class="image"><img src="images/00332.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-568"></span>You can also select and rotate the other half a little. Repeat this step for the duplicated <span class="literal1">bananas</span>, <span class="literal1">orange</span>, and <span class="literal1">watermelon-a</span> costumes.</p>
<div class="image"><img src="images/00333.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-192"><strong class="calibre2">10. Add the Code to the Fruit Sprite</strong></h4>
<p class="noindent">The <span class="literal1">Fruit</span> sprite now has all the costumes it needs, so let’s code its behavior. The <span class="literal1">Fruit</span> sprite creates clones of itself, and each clone will randomly choose costume 1, 2, 3, 4, or 5. Then the clone throws itself up in the air. The clone will detect if it was sliced and switch to its sliced costume. Or, if the clone randomly chose the <span class="literal1">bomb</span> costume and the player slices it, it will end the game.</p>
<p class="indent">Create For this sprite only variables named <span class="literal1">x velocity</span>, <span class="literal1">y velocity</span>, <span class="literal1">rotation speed</span>, and <span class="literal1">number of fruit</span>. All clones will use these variables to determine how they are thrown up and fall down. Make sure these variables are For this sprite only. The only For all sprites variables in this program are <span class="literal1">Score</span> and <span class="literal1">High Score</span>.</p>
<p class="indent">If the bomb is sliced, the game will make a noise. Click the <strong class="calibre5">Sounds</strong> tab and then click the <strong class="calibre5">Choose sound from library</strong> button under New sound. Select <span class="literal1">alien creak2</span> and click <strong class="calibre5">OK</strong>.</p>
<p class="indent">With the variables and sounds set up, you can now add the code so the original <span class="literal1">Fruit</span> sprite can create multiple clones of itself every second. You’ll add the code for the clones in Step 11.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-569"></span>Add the following code to the <span class="literal1">Fruit</span> sprite.</p>
<div class="image"><img src="images/00287.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Script <span class="ent1">➊</span> hides the fruit at the start of the game. Script <span class="ent1">➋</span> cleans up the Stage when the game ends by deleting clones when the <span class="literal1">end game</span> broadcast is received. Script <span class="ent1">➌</span> runs when the player slices the <span class="literal1">Begin Button</span> sprite and starts creating clones.</p>
<p class="indent">Let’s take a closer look at how script <span class="ent1">➌</span> works. After waiting 1 second, the <span class="literal1">number of fruit</span> variable is set to <span class="literal1">1</span>, <span class="literal1">2</span>, <span class="literal1">3</span>, or <span class="literal1">4</span>. The code in the <span class="literal1"><strong class="calibre5">repeat number of fruit</strong></span> loop will create a new <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-267"></span>clone on each iteration. Inside the loop, the original <span class="literal1">Fruit</span> sprite sets its x position to a random position and its y position to <span class="literal1">-170</span>, placing the original <span class="literal1">Fruit</span> sprite somewhere at the bottom of the Stage.</p>
<div class="image"><img src="images/00337.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Next, the <span class="literal1">x velocity</span>, <span class="literal1">y velocity</span>, and <span class="literal1">rotation speed</span> variables are randomly set (so the cloned fruit will be thrown randomly). The sprite’s costume is also randomly set to costume 1, 2, 3, 4, or 5. All this code sets up the <span class="literal1">Fruit</span> sprite to create a clone of itself. The clone’s position, variables, and costume are cloned from the original <span class="literal1">Fruit</span> sprite, which means the original is ready to randomly set itself up for the next clone.</p>
<p class="indent">The <span class="literal1"><strong class="calibre5">set x velocity to</strong></span> block uses a complicated equation, which is <span class="literal1"><strong class="calibre5">-1 * x position / 50 + pick random -2 to 2</strong></span>, for the <span class="literal1">x velocity</span> variable’s value. The <span class="literal1">x velocity</span> value determines how far to the left or right the fruit is thrown. This should be a small value, so the sprite’s <span class="literal1"><strong class="calibre5">x position</strong></span> (a random number from <span class="literal1">-200</span> to <span class="literal1">200</span>) is divided by <span class="literal1">50</span>, which is equal to a number between <span class="literal1">-4</span> and <span class="literal1">4</span>.</p>
<div class="image"><img src="images/00338.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">We always want the fruit to be thrown toward the center of the Stage. That means if the <span class="literal1">Fruit</span> sprite is on the left side of the Stage, its x position will be negative and the clone should be thrown to the right. In other words, the <span class="literal1">x velocity</span> variable should be set to a positive number. And if the <span class="literal1">Fruit</span> is on the right (with a positive x position), it should be thrown to the left. This means <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-436"></span>the <span class="literal1"><strong class="calibre5">x position / 50</strong></span> number should be multiplied by <span class="literal1">-1</span>; so if x position is positive, <span class="literal1">x velocity</span> will be negative, and vice versa. Multiplying <span class="literal1">x velocity</span> by <span class="literal1">-1</span> ensures that fruit on the left side of the Stage is thrown right and fruit on the right side is thrown left. Just to add some variation in the throws, a random number between <span class="literal1">-2</span> and <span class="literal1">2</span> is added. You’ll see how the clones use the <span class="literal1">x velocity</span> variable in Step 11.</p>
<p class="indent">The <span class="literal1">x velocity</span> and <span class="literal1">y velocity</span> variables are used together so the fruit is thrown in a curved shape called a <em class="calibre6">parabola</em>. The mathematics of parabolas are used in many science and engineering applications, but you don’t need to learn much about parabolas to use them in your games. Don’t worry if you don’t understand the math in these code blocks. As long as you copy the blocks from this book exactly as shown, your fruit will be thrown correctly.</p>
<div class="image"><img src="images/00340.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-193"><strong class="calibre2">11. Add the Code for the Fruit Sprite’s Clones</strong></h4>
<p class="noindent">When the original <span class="literal1">Fruit</span> sprite creates a clone of itself, the clone starts running its own code to throw itself up and detect if it’s sliced.</p>
<p class="indent">First, create the <span class="literal1">missed fruit</span> message by clicking the <span class="literal1"><strong class="calibre5">broadcast</strong></span> block’s black triangle, selecting <strong class="calibre5">new message</strong>, and entering the name <span class="literal1">missed fruit</span>. Then add the following code to the <span class="literal1">Fruit</span> sprite.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-366"></span><img src="images/00341.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">This script controls the <span class="literal1">Fruit</span> clones, but it looks complicated, so let’s break it down step-by-step. The original <span class="literal1">Fruit</span> sprite is hidden, so the first thing the clone does is show itself. <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-570"></span>Next, the code for gravity and slice detection repeats in a loop <span class="ent1">➊</span> as long as the clone is up in the air. When the clone’s y position drops below <span class="literal1">-170</span>, the clone has fallen to the bottom of the Stage.</p>
<p class="indent">The first part of the <span class="literal1"><strong class="calibre5">repeat until</strong></span> block makes the clone fall faster under gravity by changing the <span class="literal1">y velocity</span> by <span class="literal1">-1</span>. Then the x position, y position, and direction of the clone are changed by the values in the <span class="literal1">x velocity</span>, <span class="literal1">y velocity</span>, and <span class="literal1">rotation speed</span> variables, respectively, moving the fruit in a parabola-shaped path through the air. A parabola shape is drawn when the horizontal speed (in this case, <span class="literal1">x velocity</span>) doesn’t change but the vertical speed (in this case, <span class="literal1">y velocity</span>) decreases over time.</p>
<p class="indent">The color in the <span class="literal1"><strong class="calibre5">touching color</strong></span> block should match the color of the <span class="literal1">Slice</span> sprite <span class="ent1">➋</span>. The clone detects whether it has been sliced by checking whether it is touching the color of the <span class="literal1">Slice</span> sprite’s trail (see Step 6). If it is touching this color, the <span class="literal1"><strong class="calibre5">if then else</strong></span> block does another check for whether the costume number of the clone is set to <span class="literal1">5</span> (which is the costume number of the bomb costume). If the bomb has been sliced, the <span class="literal1">Fruit</span> clone makes the <span class="literal1">alien creak2</span> sound <span class="ent1">➌</span>, grows on the screen by running the <span class="literal1"><strong class="calibre5">change size by 30</strong></span> block, and then broadcasts the <span class="literal1">end game</span> message.</p>
<div class="image"><img src="images/00342.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Otherwise, if the sliced clone isn’t set to costume 5 (that is, if it isn’t the bomb costume), the code in the <span class="literal1"><strong class="calibre5">else</strong></span> part of the <span class="literal1"><strong class="calibre5">if then else</strong></span> block is run <span class="ent1">➍</span>. The <span class="literal1"><strong class="calibre5">if then</strong></span> blocks check which of the four fruit costumes the clone is set to, change the costume to the sliced form of that fruit, and add <span class="literal1">1</span> to <span class="literal1">Score</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-389"></span>After the <span class="literal1"><strong class="calibre5">repeat until y position &lt; -170</strong></span> block, if the costume is still set to one of the unsliced costumes (that is, costumes 1 to 4), the <span class="literal1">missed fruit</span> message is broadcast <span class="ent1">➎</span> (we’ll take a look at the code that receives this message in Step 12). No matter if the costume is a sliced or unsliced fruit, the clone is then deleted <span class="ent1">➏</span>.</p>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-571"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Try slicing the fruit. Make sure the fruit changes to the sliced costume and the <span class="literal1">Score</span> variable increases by <span class="literal1">1</span>. Then click the red stop sign and save your program.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-194" class="calibre4"></a><p class="h3a"><img src="images/00172.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE HEALTH SPRITES</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The player doesn’t want to slice all over the screen because they might hit a bomb. But to keep the player from being <em class="calibre6">too</em> cautious, you can end the game if the player misses three fruits.</p>
<h4 class="h3" id="calibre_link-195"><strong class="calibre2">12. Create the Health Sprite</strong></h4>
<p class="noindent">The <span class="literal1">Health</span> sprite will indicate how many more fruits the player can miss before losing the game. Each time the player misses a fruit, the sprite will switch to the next costume.</p>
<p class="indent">Click the <strong class="calibre5">Paint new sprite</strong> button next to New sprite. Open the Info Area for this new sprite and rename it <span class="literal1">Health</span>. In the Paint Editor, use the Line tool to draw three blue <em class="calibre6">X</em>s and duplicate this costume three more times. I made my <em class="calibre6">X</em>s increase in size from left to right, but you can style yours any way you like as long as you have three of them.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-572"></span><img src="images/00343.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Rename <span class="literal1">costume1</span> to <span class="literal1">3 health</span>, <span class="literal1">costume2</span> to <span class="literal1">2 health</span>, <span class="literal1">costume3</span> to <span class="literal1">1 health</span>, and <span class="literal1">costume4</span> to <span class="literal1">0 health</span>. Leave all three <em class="calibre6">X</em>s in <span class="literal1">3 health</span> blue. But for the other costumes, use the Fill tool, click the vertical gradient, and select a lighter red and a darker red color to paint the <em class="calibre6">X</em>s a red gradient. The costume <span class="literal1">2 health</span> will have one red <em class="calibre6">X</em>, <span class="literal1">1 health</span> will have two red <em class="calibre6">X</em>s, and <span class="literal1">0 health</span> will have three red <em class="calibre6">X</em>s. Make sure your costumes are in the same order as in the figure shown here:</p>
<div class="image"><img src="images/00193.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-573"></span>The <span class="literal1">Health</span> sprite will switch costumes based on different broadcast messages it receives. Add the following code to the <span class="literal1">Health</span> sprite. All the messages should already exist by this step, so you shouldn’t need to create them.</p>
<div class="image"><img src="images/00195.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">When the player clicks the green flag and is at the start screen, the <span class="literal1">Health</span> sprite hides itself in script <span class="ent1">➊</span>. When the player slices the <span class="literal1">Begin Button</span> sprite, it broadcasts the <span class="literal1">start game</span> message, and the <span class="literal1">Health</span> sprite sets itself to show the <span class="literal1">3 health</span> costume in script <span class="ent1">➋</span>. Each time an unsliced fruit falls to the bottom of the Stage, that fruit broadcasts a <span class="literal1">missed fruit</span> message, which makes the <span class="literal1">Health</span> sprite switch to the next costume in script <span class="ent1">➌</span>. This next costume will have one more red <em class="calibre6">X</em>. If the <span class="literal1">Health</span> sprite switches to <span class="literal1">0 health</span>, <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-401"></span>all three <em class="calibre6">X</em>s are red and the <span class="literal1">end game</span> message is broadcast. When the <span class="literal1">Health</span> sprite receives this message, it hides itself using the very short script <span class="ent1">➍</span>.</p>
<div class="image"><img src="images/00196.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-574"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Let some of the fruit fall without being sliced. Make sure the <em class="calibre6">X</em>s turn red for each missed fruit. Start a new game, and make sure the <em class="calibre6">X</em>s are all blue again. Then click the red stop sign and save your program.</p>
</div>
<table class="calibre10">
<tbody class="calibre11">
<tr class="calibre12">
<td class="calibre13"><a id="calibre_link-196" class="calibre4"></a><p class="h3a"><img src="images/00174.jpeg" alt="image" class="calibre14" /></p></td>
<td class="calibre13"><p class="h3a"><strong class="calibre2">MAKE THE GAME’S ENDING</strong></p></td>
</tr>
</tbody>
</table>
<p class="toc">The player can lose in two different ways: when the player misses three fruits or when they slice a bomb. Either way, the <span class="literal1">end game</span> message is broadcast, and several things happen as a result. The <span class="literal1">Fruit</span> sprite’s clones delete themselves, the <span class="literal1">Health</span> sprite hides itself, and the Stage fades to white. We’ve already added code for the clones and the <span class="literal1">Health</span> sprite, so let’s add code that makes the Stage fade to white.</p>
<div class="image"><img src="images/00197.jpeg" alt="image" class="calibre3" /></div>
<h4 class="h3" id="calibre_link-197"><strong class="calibre2">13. Create the White Fade Out Sprite</strong></h4>
<p class="noindent">We’ll use a ghost effect trick to make the Stage fade. Click the <strong class="calibre5">Paint new sprite</strong> button next to New sprite. In the Info Area, rename this sprite <span class="literal1">White Fade Out</span>. In the Paint Editor, use the Fill tool to fill in the entire canvas with white. None of the white-gray checkered pattern on the canvas should be visible.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-575"></span><img src="images/00198.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1">White Fade Out</span> sprite blocks most of the Stage. When the program begins, the <span class="literal1">White Fade Out</span> sprite will hide itself and become visible only when the <span class="literal1">end game</span> message is broadcast. Add the following code to the <span class="literal1">White Fade Out</span> sprite:</p>
<div class="image"><img src="images/00200.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-454"></span>When the <span class="literal1">White Fade Out</span> sprite receives the <span class="literal1">end game</span> message, it moves itself to the origin at the x- and y-coordinates (0, 0) <span class="ent1">➊</span>. Because the sprite is the same size as the Stage (480 pixels wide, 360 pixels tall), putting it at the origin makes it completely cover the Stage. The <span class="literal1"><strong class="calibre5">go to front</strong></span> block also places it in front of every other sprite. This makes sure that all the other sprites are behind it.</p>
<p class="indent">Before showing itself, the <span class="literal1">White Fade Out</span> sprite sets its ghost effect to <span class="literal1">100</span> <span class="ent1">➋</span>, making it completely invisible. Then the <span class="literal1"><strong class="calibre5">repeat</strong></span> loop decreases the ghost effect by <span class="literal1">10</span> ten times <span class="ent1">➌</span>. The <span class="literal1">White Fade Out</span> sprite gradually becomes more visible, and the white color slowly covers everything on the Stage.</p>
<p class="indent">If the <span class="literal1">Score</span> variable is higher than the <span class="literal1">High Score</span> variable, the <span class="literal1">High Score</span> variable is updated <span class="ent1">➍</span>. After a short, 1 second delay, the <span class="literal1">White Fade Out</span> sprite broadcasts the <span class="literal1">start screen</span> message. The <span class="literal1">White Fade Out</span> sprite hides itself, the Stage goes back to the start screen backdrop, and the <span class="literal1">Begin Button</span> sprite shows itself <span class="ent1">➎</span>. The game looks like it did when the player clicked the green flag, but the <span class="literal1">High Score</span> variable is set to the highest score achieved so far.</p>
<div class="image"><img src="images/00201.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-576"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. Play the game and make sure that when you slice a bomb or when three fruits fall unsliced, the <span class="literal1">White Fade Out</span> sprite fades into view and restarts the game. Then click the red stop sign and save your program.</p>
<p class="indent">The code for this program is too large to list the complete code in this book. You can view the completed code in the resources ZIP file&mdash;the filename is <em class="calibre6">fruitslicer.sb2</em>.</p>
</div>
<h3 class="h2" id="calibre_link-198"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-350" class="calibre1"></span><strong class="calibre2">VERSION 2.0: HIGH SCORE</strong></h3>
<p class="noindent">Scratch can store variables on its website using <em class="calibre6">cloud variables</em>. Scratch’s cloud variables act just like regular variables except their value is remembered even after the web browser closes. Cloud variables are shared among every Scratcher using a program. You can make a competition for high scores using cloud variables for everyone who’s played your game!</p>
<p class="indent">Because cloud variables use a lot of the Scratch website’s bandwidth, there are some limitations for using them:</p>
<p class="arrowt"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Cloud variables store only numbers, not text.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Cloud variables can’t be used to make chat or multiplayer games.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> It takes a second or two for the cloud variable’s value to update for everyone.</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> New Scratchers who haven’t used the website much can’t use cloud variables.</p>
<p class="indentt">The <span class="literal1">High Score</span> variable shows the highest score a player has made. But using a cloud variable, you can make the game show the highest score of every player on the Scratch website! Select the <span class="literal1">White Fade Out</span> sprite and click the <strong class="calibre5">Make a Variable</strong> button in the orange <em class="calibre6">Data</em> category. Enter the name <span class="literal1">Cloud High Score</span> and make it a For all sprites variable (just like <span class="literal1">High Score</span>). Then check the <strong class="calibre5">Cloud variable (stored on server)</strong> checkbox.</p>
<div class="image"><img src="images/00203.jpeg" alt="image" class="calibre3" /></div>
<div class="note">
<p class="notet"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-402" class="calibre1"></span><strong class="calibre2">NOTE</strong></p>
<p class="noindent"><em class="calibre6">If the Cloud variable checkbox isn’t visible, it means you still have New Scratcher status and won’t be able to use cloud variables until you’ve used the Scratch website more. Create more projects, talk on the discussion forums, and comment on other Scratcher’s projects. Then wait a few days to see if your status has changed and the checkbox is available to you.</em></p>
</div>
<p class="indent">When you’ve made the <span class="literal1">Cloud High Score</span> variable, move its display on the Stage above the regular <span class="literal1">High Score</span> variable.</p>
<div class="image"><img src="images/00205.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">Then add the following code to the <span class="literal1">White Fade Out</span> sprite:</p>
<div class="image"><img src="images/00206.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The <span class="literal1"><strong class="calibre5">set Cloud High Score to Score</strong></span> block changes the <span class="literal1">Cloud High Score</span> variable for the player and also for every other player on the Scratch website. Now you have a high score system for all players ever!</p>
<h3 class="h2" id="calibre_link-199"><strong class="calibre2">CHEAT MODE: RECOVER HEALTH</strong></h3>
<p class="noindent">You can add a secret button that will let a player recover lost health. This won’t prevent the player from accidentally slicing bombs, but it can help them avoid losing health from dropping too many fruit. Pressing the R key will recover one health after you add the following code to the <span class="literal1">Health</span> sprite. You can press the R key as often as you like during the game. Add the following code to the <span class="literal1">Health</span> sprite.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-577"></span><img src="images/00207.jpeg" alt="image" class="calibre3" /></div>
<div class="sidebarg">
<p class="sidebartg" id="calibre_link-578"><strong class="calibre2">SAVE POINT</strong></p>
<div class="image1"><img src="images/00114.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">Click the green flag to test the code so far. After dropping some fruit, press the R key and make sure that one health is recovered. You’ll be able to see the red <em class="calibre6">X</em> turn blue. Then click the red stop sign and save your program.</p>
</div>
<h3 class="h2" id="calibre_link-200"><strong class="calibre2">SUMMARY</strong></h3>
<p class="noindent">In this chapter, you built a game that</p>
<p class="arrowt"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Has a start screen instead of just beginning the game when the player clicks the green flag</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Uses gradients to draw backdrops and costumes</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Uses lists to track multiple values</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Tracks the position of the mouse with the <span class="literal1"><strong class="calibre5">mouse x</strong></span> and <span class="literal1"><strong class="calibre5">mouse y</strong></span> blocks</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Uses costumes to make clones of one sprite look like different kinds of fruit</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Returns to the start screen when the game ends instead of just stopping the program</p>
<p class="arrow"><img src="images/00010.jpeg" alt="image" class="calibre3" /> Remembers the high score of the player</p>
<p class="indentt"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-579"></span>This chapter was much longer than the previous chapters because the <em class="calibre6">Fruit Slicer</em> game is more sophisticated than previous games. But I think it’s the most fun game in this book so far. As you continue to learn more about programming, you’ll be able to make cooler games, so keep at it!</p>
<p class="indent">In <a href="#calibre_link-10" class="calibre4">Chapter 8</a>, you’ll create a space game where you shoot down incoming asteroids. Let’s blast off!</p>
<div class="sidebarb">
<p class="sidebartb" id="calibre_link-201"><strong class="calibre2">REVIEW QUESTIONS</strong></p>
<p class="noindent">Try to answer the following practice questions to test what you’ve learned. You probably won’t know all the answers off the top of your head, but you can explore the Scratch editor to figure out the answers. (The answers are also online at <em class="calibre6"><a href="http://www.nostarch.com/scratchplayground/" class="calibre4">http://www.nostarch.com/scratchplayground/</a></em>.)</p>
<ol class="calibre16">
<li value="1" class="calibre17"><p class="noindent">In which code category can you create custom blocks?</p></li>
<li value="2" class="calibre17"><p class="noindent">What is the difference between the <span class="literal1"><strong class="calibre5">call</strong></span> and <span class="literal1"><strong class="calibre5">define</strong></span> blocks for a custom block?</p></li>
<li value="3" class="calibre17"><p class="noindent">What does the Run without screen refresh option do for custom blocks?</p></li>
<li value="4" class="calibre17"><p class="noindent">What does the <span class="literal1"><strong class="calibre5">go to front</strong></span> block do?</p></li>
<li value="5" class="calibre17"><p class="noindent">How is a list different from a variable?</p></li>
<li value="6" class="calibre17"><p class="noindent">How is a cloud variable different from a normal variable?</p></li>
<li value="7" class="calibre17"><p class="noindent">What does it mean when you don’t see the Cloud variable (stored on server) checkbox?</p></li>
<li value="8" class="calibre17"><p class="noindent">Can cloud variables store text?</p></li>
<li value="9" class="calibre17"><p class="noindent">You see a sprite named <span class="literal1">Sprite1</span> in the Sprite List. How do you rename this sprite?</p></li>
</ol>
</div>
</div>

</body></html>